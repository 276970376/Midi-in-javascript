<!DOCTYPE html >
<html>
<head>
<title>Touch the sky</title>
<meta name="keywords" content="yarmyarch, Luo Yujia, Web Midi, Javascript, html5, Coding Rider, 罗誉家, 扣钉骑士" />
<meta name="description" content="Midi in javascript. Created by yarmyarch@live.cn" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
View the source here: <a href="https://github.com/yarmyarch/Midi-in-javascript" target="_blank">https://github.com/yarmyarch/Midi-in-javascript</a><br>
Play the demo here: <a href="http://yarmyarch.github.io/Midi-in-javascript/demo.html" target="_blank">http://yarmyarch.github.io/Midi-in-javascript/demo.html</a><br>
<strong>Source: </strong><a target="_blank" href="http://yarmyarch.com/archives/141">http://yarmyarch.com/archives/141</a><br>
<strong>Author: </strong>The Coding Rider(<a href="mailto:yarmyarch@live.cn">yarmyarch@live.cn</a>), 2014-1-1<br>
<strong>All rights reserved</strong><br>

<style scoped type="text/css">
    #article_141 h3 {
        list-style-type: disc;
        list-style-position: inside;
        display: list-item;
    }
    #article_141 h4 {
        list-style-type: circle;
        list-style-position: inside;
        display: list-item;
    }
    #article_141 .js_toggle_title {
        cursor:pointer;
        color:#333;
    }
    .article_141_ul {
        list-style-type: square;
    }
    
    .midi_ins_table p { margin:0; }
    .midi_ins_table { 
        margin:0 auto; 
        width:100%; 
        max-width:712px; 
        border-collapse:collapse; 
        word-break: break-all;
    }
    .midi_meta_thead { width:24%; }
    #article_141 .js_toggle_title {
        position: relative;
    }
    #article_141 .js_toggle_title:before {
        content: "▶";
        position: absolute;
        left: -22px;
        top: 0px;
        transition:0.2s all linear;
    }
    #article_141 .js_toggle_title.active:before {
        content: "▼";
        left: -26px;
        top: 4px;
    }
</style>
<h2><a name="midi_nav" id="midi_nav"></a>目录</h2>
<ul class="article_141_ul">
    <li><a class="js_slide_link" href="#midi_talk">随便说点啥</a></li>
    <li><a class="js_slide_link" href="#midi_env">虚拟MIDI环境简介</a></li>
    <li><a class="js_slide_link" href="#midi_file">MIDI文件结构</a></li>
    <li><a class="js_slide_link" href="#midi_js">JS生成数字音乐</a></li>
    <li><a class="js_slide_link" href="#midi_play">MIDI实时播放</a></li>
    <li><a class="js_slide_link" href="#midi_future">现状&amp;将来</a></li>
    <li><a class="js_slide_link" href="#midi_atta">附录</a></li>
</ul>

<h2><a name="midi_talk" id="midi_talk"></a>随便说点啥</h2>
　　不想看废话的、查询GM标准音色表、MIDI信息状态表等资料的同僚们请<a class="js_slide_link" href="#midi_atta"><b>直奔附录</b></a>。<br>
　　眼看2013就结束了，想着用啥来总结好呢。2013大半时间在路上，有空了小旅馆里开着网想一想，还是蛮有意思的一个东西。HTML5火爆了2013，图像、游戏、交互等等各个分支发展都很喜人。走马观花溜一遍，到了数字音乐领域，感觉有点像看春哥和曾哥对台唱歌一样从繁华喧闹的市集走到胡同脚里一片黯然收场。零零散散搜集到一些资料，算是给自己的2013一个交代。想做的事情越来越多，时间越来越少——希望自己2014年能在感兴趣的方面有一些收获。<br>
　　其实之前也跟一些朋友聊起过这个话题，让我比较诧异的是MIDI这东西在很多人眼里还一直是极客手中的玩物——也难怪，这应当归咎于数字音乐在互联网的缓步发展。回顾2013年，有许多令人尖叫的音乐相关作品问世，例如google的<a href="http://www.google.com.hk/logos/2011/lespaul.html" target="_blank">吉他doodle</a>，<a href="http://labs.dinahmoe.com/plink/" target="_blank">多人游戏plink</a>等等无不令人啧啧称赞。<br>
　　<b>社交化的数字音乐</b>仍然一如既往拥有很大的市场，受限于技术门槛和不完善的标准支持，这方面国内国外都鲜有建树，即便桌面领域或者基于flash的应用已经相当成熟——这是后话了。<br>
　　受限于鄙人学识，以下内容部分纯属胡编滥造，如有误导烦请指正，或者你来打我啊。
<h2><a name="midi_env" id="midi_env"></a>虚拟MIDI环境简介</h2>
　　传统MIDI一系列设备，没有几年功夫和一定的存款，要想搭建一套可以自己谱谱曲的环境，不用烂几块键盘没几个几十G的雅马哈音色库恐怕很难搞定。许多专业录音棚出产的电子乐甚至可以媲美中端音乐厅水平。当然吾等屌丝不需要那么豪华的阵容，硬盘加右手就够了。<br>
　　设想在一个只有浏览器的环境中创建可以实时播放的MIDI环境。最基本的，这套工具应该可以方便的让我这样不懂乐理的人也会点出声加点特效，钢琴二胡和隔壁王老坎家骡子拉磨的声音来个混响，最后还能允许我把这声音弄下来挂门上驱灾撵狗啥的。<br>
　　为了实现这个简单的目的，我们需要一些基本的道具，包括可以敲的<b><i>输入设备</i></b>，用于混响和播放声音的<b><i>通道</i></b>，能够管理通道信息和状态的<b><i>合成器</i></b>，装了各种声音的<b><i>音色库（软波表）</i></b>，其中应当有我想要的骡子声<b><i>乐器</i></b>，一个正常的喇叭作为<b><i>输出设备</i></b>，最后把这些所有东西集合起来可以打包输出文件的——几年前我们一伙人管这叫——<b><i>数字音乐模拟系统</i></b>，至今我仍然认为这是个好名字。
<h3>MIDI</h3>
　　MIDI实际上只是一个乐谱，只不过五线谱是给演奏家看的，MIDI是给合成器看的。MIDI文件中定义了在某一时刻用某种节奏的某个音量播放某种乐器，持续多长时间采用什么效果。除此之外还能记录诸如“幕布升起”、“扣钉骑士万岁万岁万万岁”等类似的文本信息和提示内容，提供给读乐谱的程序看。
<h3>输入设备</h3>
　　不赘述，我们有键盘，上百个键位和控制键，完全够用了。可能什么键对应啥操作需要好好想一想。
<h3>通道/Channel</h3>
　　通道是一系列互不干扰的音频流传输介质。MIDI标准中允许一个合成器同时管理16个通道，一个通道同一时间只能维护一种乐器状态。不过理论上来说一个MIDI乐谱中可以同时存在的乐器数无上限的，只是在超过通道限制时需要在乐谱中告诉合成器某某时刻应该切换乐器，合适的时候再切换回去云云。在非真实MIDI硬件设备的模拟环境中尤其对于浏览器环境而言，需要手动实现对于音频流的管理。
<h3>合成器/Synthesizer</h3>
　　简单来说就是一个音频流的管理程序，提供解读乐谱、混响、音效支持和通道控制等功能。合成器通过读取给定的音色库解析和播放MIDI乐谱。对于非人民币玩家，要想在浏览器环境中以原生的方式搞到这个神奇的东西，用代码写吧XD。好在目前HTML5中的<a href="http://www.w3.org/TR/webaudio/" target="_blank">AudioAPI</a>提供的一系列音频流处理接口已经基本满足构造一个能跑的合成器的条件。
<h3>音色库/Sound Font/Sound Bank</h3>
　　我们所讨论的软波表，特指装载了一系列乐器音效的一个打包文件。该文件中存储了一系列基本的压缩音频采样，并定义了一套规范用于描述特定的乐器在给定<b><i>音调/Tone</i></b>和<b><i>音量/Voice</i></b>时应当被如何通过已有的采样信息进行混响。解析并执行这一套规范就是合成器的作用。广泛使用的音色库文件如<b><i>.sf2</i></b>，几乎已成为MIDI音色库现行标准。好的音色库动辄十几张CD的存储量，这么大的容量得益于其未经压缩的采样率。雅马哈的一些特效音色库制作甚至耗时几年，从亚马逊河流域、阿尔卑斯山脉等地方录下最纯粹和原始的自然声音压制而成。上面这句纯属忽悠。<br>
　　目前几乎所有的操作系统中默认装载了声卡里的音色库，例如WIndows下经典的"GS波表软件合成器"——这便是为何可以直接在windows中点击播放MIDI文件的原因——一个约3.4M大小带音色库的合成器，支持<a href="http://en.wikipedia.org/wiki/Comparison_of_MIDI_standards" target="_blank">GS/GM标准</a>，该音色库存在"C:\Windows\System32\drivers\gm.dls"。好的声卡显而易见会提供更好的音色库，以便专业玩家创造出众的音乐体验。<br>
　　<a href="http://www.sf2midi.com/_dataPublic/attachments/18bd3e13e52164113b9852664b9025af/sfspec21.pdf" target="_blank" title=".sf2文件格式标准">音色库文件</a>的解析，在HTML5规范中几乎是一片空白。不过国外有研究团队已经在这方面颇有建树，<a href="https://github.com/WebAudio/web-midi-api" target="_blank">HTML5 MIDI API</a>的贡献者之一，<a href="https://www.ohloh.net/accounts/toyoshim" target="_blank">日本哥Toyoshim</a>的开源项目<a href="https://code.google.com/p/tss/" target="_blank"> T'Sound System Library </a>已经实现<a href="https://code.google.com/p/tss/source/browse/js/tss/SoundFont2.js?r=d54edf8d095ebdeb28c43d27c839f5c804d7b164" target="_blank">用js读取<i>.sf2</i>格式文件</a>。著名的HTML5音频研究团队的MIDI框架<a href="http://mudcu.be/midi-js/" target="_blank">MIDI.js</a>用了一套已经打包为<i>.mp3</i>格式的base64文件来模拟音色库，这也是目前几乎所有web音频类应用的通用做法并且仍然没有更好的策略。即便是大名鼎鼎的Java，对于音色库的支持也一直推迟到<a href="http://www.docjar.com/docs/api/com/sun/media/sound/package-index.html" target="_blank">JDK7的com.sun.media.sound</a>包中才得以完整实现。
<h3>乐器/Instrument</h3>
　　存储在音色库中的采样音频以及对该音频的预定义播放方式，展现在输出设备中就是乐器。GM音色库标准中定义了<a class="js_slide_link" href="#midi_ins">128种标准乐器</a>，但不同的音色库中包含的音色信息可能相差非常大，这也是为何<i>.midi</i>格式的文件在不同的系统下可能会播放出不同效果的原因。<br>
　　正常情况下，通道<i>K</i>默认对应除了标准128中乐器中的第<i>K</i>个乐器，除非合成器告诉他需要切换乐器；特殊情况为作为打击乐保留通道的第Channel 10，其中的正常音符在默认情况下可能表现出不同的音色。
<h3>输出设备</h3>
　　声卡和音响设备。但凡是个电脑都有的东西，并且浏览器已经通过AudioApi封装了对输出设备的访问，所以不需要我们关心。
<h3>小霸王至尊8合1</h3>
　　事情到目前为止进展的似乎挺不错。我们只需要提供一个可以操作的界面，把这些东西全部打包装在一起，这就是个可以在浏览器端生成MIDI乐谱、可以导出为MP3的超级8合1至尊卡带了。不过等等，MIDI乐谱？
<h2><a name="midi_file" id="midi_file"></a>MIDI文件结构</h2>
　　看来我们遇到了一点小麻烦，在解决如何生成MIDI乐谱之前可能得复习复习MIDI文件结构。关于这方面已经有诸多文献可参考，例如鄙人本科时与好基友<a href="http://weibo.com/bigtreecool" target="_blank">大树阴凉儿</a>所著的<a href="http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=5474261&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D5474261" target="_blank">Bottom-up Digital Music Simulation System Under Program Control</a>（百度貌似也能搜到免费版。。。）。这里有张图简要概括了MIDI文件结构：<br>
    <br>
    <div class="img"><img src="http://yarmyarch.com/workspace/midi/structure.png" style="max-width:469px;margin:0 auto;"/></div>
<h3>音序/Sequence</h3>
　　我们称一个完整的MIDI乐谱为一条<b><i>音序</i></b>。一个音序中至少应当定义<b><i>MIDI文件类型</i></b>、<b><i>音轨</i></b>数、<b><i>节拍</i></b>（和节拍定义方式）等基本信息，这些信息被记录在<b><i>Header Chunk</i></b>中，即便该音序中不包含任何音符信息——那你要这条音序干嘛。。。
<h3>Header Chunk</h3>
<pre class="prettyprint linenums">
/**
头部声明区                          | 数据长度声明区                      | 数据位
ASCII M  ASCII T  ASCII h  ASCII d  | Data Length: 6                      | MIDI type: 1     | Track Count: 1   | Division: mode0, 120 ticsks/second
01001101 01010100 01101000 01100100   00000000 00000000 00000000 00000110   00000000 00000001  00000000 00000001  00000000 11110000
 */
</pre>
　　首部块内容如上所示，用于声明一条音序的基本信息，仅用于标注文件声明。其中，4字节ASCII数据“MThd”为Header Chunk标识位，data length值为当前Chunk中数据位的长度。数据位包括3部分内容：
<h4>文件类型</h4>
　　2字节数据，整数。合法的MIDI文件应当属于以下三种类型的一种：
<ul class="article_141_ul">
    <li><b>0类MIDI：</b>仅能容纳单一<b><i>音轨</i></b>；</li>
    <li><b>1类MIDI：</b>容纳多个<b><i>音轨</i></b>，所有<b><i>音轨</i></b>中的<b><i>事件</i></b>将按照既定<b><i>时间戳</i></b>同时播放——这也是应用最广泛的音序类型；</li>
    <li><b>2类MIDI：</b>容纳多个<b><i>音轨</i></b>，每个<b><i>音轨</i></b>中的<b><i>事件</i></b>将在上一条<b><i>音轨</i></b>结束之后开始播放。</li>
</ul>
<h4>音轨数</h4>
　　Header Chunk本身并不是音轨，其中以2字节记录除Header Chunk以外的其他类型Chunk（亦即<b><i>音轨</i></b>）数量。
<h4>节拍定义/division</h4>
<pre class="prettyprint linenums">
/**
|H|8-14bit 0-7bit
 0 0000000 00000000
 */
</pre>
　　如上结构的2字节数据位，这是个麻烦的字段。节拍有两种表示方式，取决于字段最高位（H位置处）数据：
<ul class="article_141_ul">
    <li><b>0类节拍定义：0-14bit数据为一个整数，表示</b>一个1/4音符（测试结论貌似持续0.5秒？）中的<b><i>时间戳</i></b>数量，值以120居多，简单粗暴；</li>
    <li><b>1类节拍定义：</b>更精确的节拍定义方式。0-7bit表示每一 SMPTE（） 帧中的tick数；8-14bit表示每秒钟内的 SMPTE 帧数，详情可参考<a href="http://en.wikipedia.org/wiki/MIDI_timecode" target="_blank">MTC Quarter Frame</a>中的相关定义。这种定义方式应用不多。</li>
</ul>
<h3>Track Chunk</h3>
　　<b><i>音轨</i></b>定义区。这实际上是一个逻辑分区，区分头部和数据部分。
<h3>音轨/Track</h3>
<pre class="prettyprint linenums">
/**
头部声明区                          | 数据长度声明区                      | 数据区            | 结束标记
ASCII M  ASCII T  ASCII r  ASCII k  | Data Length: unknown                | OOXX....          | Ending the track: FF 2F 00
01001101 01010100 01110010 01101011 | OOOOOOOO XXXXXXXX OOOOOOOO XXXXXXXX | OOOOOOOO XXXXXXXX | 11111111 00101111 00000000
 */
</pre>
　　音轨是一系列数据的集合，每条音轨以声明ASCII“MTrk”开始。音轨是一个完全不受限制的数据定义区域，其中记录乐谱各种信息，包含但不仅限于：版权声明、文本信息、开启/关闭声音(<b><i>Note On/Note Off</i></b>)、改变乐器（<b><i>Program Change</i></b>）等等。MTrk类型Chunk必须有<b><i>结束标记</i></b>，并且结束标记也应当计算入数据区总长度。<br>
　　一个音序中通常包含至少1条音轨定义，并且仅在第一条音轨中保存类似版权信息、乐谱通用定义。非0类音轨也会通常将这些信息独立为一条音轨以方便维护。<br>
　　音轨本身作为数据集合，与硬件载体并不存在任何关系。但是在实现过程中，通常建议一条包含Channel信息的Track仅对应一个Channel——亦即所保存的除公共信息（例如版权声明）之外的数据均应尽量操作同一个Channel。由于Channel总数不超过16个，因此一个MIDI乐谱中的Track数量通常也不会超过17条；更甚由于一个Channel同时只能维护一种乐器，因此通常情况下，一首MIDI乐谱也不会设计超过16种乐器混响。<br>
　　下面我们聊一聊Track中的数据，以便解释一下上文这段话。啊，这将是个沉重的话题。
<h4>MIDI事件/Event</h4>
<pre class="prettyprint linenums">
/**
 * 一则简单版权声明事件
 *
时间戳   | MIDI消息体
Tick     | Message Type      | Length   | Message Data
00000000   11111111 00000010   00000010   01000110 01000101
 */
</pre>
　　简言之，存储于Track数据区的所有内容均为一则<b><i>事件</i></b>，其结构如前文所示，主要包含两部分内容，<b><i>时间戳</i></b>和<b><i>MIDI消息</i></b>。事件是Track内容的基本组成单元，拥有时间戳是其固有属性。一则正确定义的事件将按照节拍的与定义方式（Header Chunk中的division）在合适的时间被合成器触发，并产生相应的效果。
<h4>时间戳/Tick</h4>
　　事件数据之间并不存在严格的边界，因此识别一条事件的依据便是消息体中严格定义的数据消息体长度和下一个事件的时间戳。在我们之前所定义的Header Chunk（1型MIDI，120tick/s）中，tick始终表示“当前事件的发生时刻”与“上一事件发生时刻”之间的时间刻度差值Delta Time。<br>
　　在编程模拟方面，维护“一个事件基于其他事件的严格顺序”是一件相当蛋疼的事情，这意味着可能得使用链表来管理一个乃至十万数量级（一首5分钟高清音序中的事件数规模在万级）的数据结构。Java中将Delta Time存储为“从音序开始执行以来所经历的tick”作为哈希的键值来存储和管理这些事件，一定程度上改善了检索、修改等操作的执行效率。可以参考<a href="http://download.oracle.com/technetwork/java/javase/6/docs/zh/api/javax/sound/midi/Track.html" target="_blank">JDK6中的Track类的</a>源码。<br>
　　注意由于一首乐谱的时间刻度可能会在规范允许的范围内被定义的相当密集，因此tick的数值理论上可以达到无限大。这可怎么办，设想我们的骡子早上叫了一声晚上叫了一声，这时这两个事件发生的时间间隔恐怕8字节的256个tick无法表达我们对于骡子的热爱之情。<br>
　　因此，时间戳必须是一个<b><i>可变长度数</i></b>。
<h4>可变长度数</h4>
　　可变长度数允许不通过单独的length标记位记录一个长度不固定的正整数。对于可以通过7位以内二进制数表示的数据，看起来跟普通的二进制数没啥区别：
<pre class="prettyprint linenums">
/**
127:
01111111
 */
</pre>
　　对于超过127的数据，可变长度数需要扩展高位字节，并遵循如下规则：
<ul class="article_141_ul">
    <li>所有可变长度数中，每个字节最高位用作标记位；</li>
    <li>除非是最末位8个字节，否则当前字节中的标记位记1；</li>
    <li>最末位8个字节标记位记0，该可变长度数结束。</li>
</ul>
　　遵循对于以上规则，可变长度数中每个字节只能用来表示128个数。于是我们就有了以下奇葩的数据表示：
<pre class="prettyprint linenums">
/**
127:
01111111

255 - 普通二进制:
11111111
255 - 可变长度数:
10000001 01111111

16383 - 普通二进制:
00111111 11111111
16383 - 可变长度数:
11111111 01111111

16384 - 普通二进制:
01000000 00000000
16384 - 可变长度数:
10000001 10000000 00000000
 */
</pre>
<h3>MIDI消息</h3>
　　作为MIDI Event的组成部分，MIDI消息才是这通篇的主角，其在MIDI系统中的地位就是北方的面南方的米沙漠里面边下的雨。<br>
　　如MIDI事件一节所示，一个MIDI消息包含消息类型、数据长度、数据体三部分。一则乐谱中所有控制信息均存储于消息中，不同的资料会罗列不同的分类方式。通常按照存储消息解析方式的不同分其为四类：<b><i>Meta消息</i></b>、<b><i>Sysex消息</i></b>、<b><i>控制消息</i></b>和<b><i>通道消息</i></b>。
<h4>Meta消息</h4>
　　虽然所有事件都应当被合成器识别，但Meta消息始终不会被响应为输出。Meta消息仅用于记录，如果一个音序是一页代码，Meta消息就是代码中的注释。<br>
　　所有Meta消息的消息类型均以"FF"开头作为标志：
<pre class="prettyprint linenums">
/**
 * 一则简单版权声明事件内的消息体
 *
Meta消息
消息类型: FF 02   | Length:2 | ASCII: F ASCII: E
11111111 00000010   00000010   01000110 01000101
 */
</pre>
　　上图所示的消息类型为“FF 02”，标准中定义其为“版权声明”。比较重要的Meta消息类型有“版权声明”（FF 02）和Track结束标记（FF 2F 00），在任何音序中都会存在。<br>
　　Meta消息由于可被用于记录不定长数据，因此其中的Length位也为<i>可变长度数</i>；数据位可以为特定格式标记、ASCII字符或为空（结束标记长度0、数据位空）。例如你可以声明一则长度为4字节的文本消息，然后像个不太能喝的司机被人猛灌一顿之后开着车在32车道的公路上随意发挥，甚至把莎士比亚全集录进去也是允许的，这都取决于Meta消息类型。<br>
　　更多Meta消息类型可参考<a class="js_slide_link" href="#midi_meta">附录二：Meta消息类型表</a>。
<h4><a name="midi_sysex" id="midi_sysex">专用系统消息“F0/F7”/Sysex Message<span style="color:red">（注：此处存疑）</span></h4>
<pre class="prettyprint linenums">
/**
 * 系统专用信息结构
 *
Meta消息
消息类型 | 0iiiiiii | 任意数据                     | 结束标记
11110000   00000100   10010000   01111111 01111111   11110111
 */
</pre>
　　一个系统专用信息如果以“F0”开始，则必须以“F7”作为结尾。因此，“F7”也被称作“End of Exclusive (EOX)”。<br>
　　在多份同样的标准文档中，我看到多个关于此消息的不同解释，分别来自“<a href="http://www.music.mcgill.ca/~ich/classes/mumt306/midiformat.pdf" target="_blank">Standard MIDI-File Format Spec. 1.1</a>”和“<a href="http://courses.cs.washington.edu/courses/cse467/05wi/labs/FinalProject/MidiProject/Standard%20MIDI%20file%20format,%20updated.pdf" target="_blank">Standard MIDI-File Format Spec. 1.1, updated</a>”。也希对此有深刻认识的同僚能够指出此文谬误。下文中给出两个不同的解释细则仅供参考，其中所列举的字节码亦并不保证正确性。<br>
　　<b style="color:red">释义一：特定厂商专用扩展信息</b><br>
　　专用系统消息（Syntactic System Exclusive Message）的名字来由于其只会对特定的合成器系统起作用。该消息允许对某一事件进行“加密”，合成器在读到该事件时检测“密文”是否与自己所定义的“密文”相匹配。如果不匹配，则忽略该整个事件；否则对其进行解析。<br>
　　Sysex消息可以被用作一个“加密包裹”用于包裹任何其他类型的所有事件，也可用作<b><i>保留字段</i></b>用于包裹合成器自身的自定义事件（例如当前合成器实现的标准范围外的<b><i>控制器</i></b>类型），当然更多是用作发送针对合成器的特殊指令。MIDI中定义了许多<b><i>保留字段</i></b>用于后续扩展或交由合成器厂商自己实现，使用Sysex事件修饰的<b><i>保留字段</i></b>可以避免该消息被其他合成器错误解析，该扩展方式被称作合成器的“Universal Exclusive Messages”。<br>
　　在此类释义下，该信息结构中的<i>0iiiiiii</i>字段即提供给合成器用于鉴别的“密文”：<a href="http://www.sonicspot.com/guide/midimanufacturers.html" target="_blank" title="midi.org的原文链接失效了。。。找了个山寨的">MIDI设备生产商ID</a>，固定长度为8bit并且最高位为0。合成器在不能识别该密文时应当将其中的直至结束标记位置的数据字段全部忽略；否则，解析内部数据。<br>
　　在上例中，这则Sysex消息包裹了一条<b><i>Note On</i></b>信息。其余任何数据也将被允许。<br>
　　<b style="color:red">释义二：系统高级信息</b><br>
　　与释义一一样，该信息同样用于发送任意数据。在此类释义下，该信息结构中的<i>0iiiiiii</i>字段为包含结束标记在内的数据体长度，与所有其他消息的长度一样也为可变长度数。<br>
　　虽然“F0”必须以“F7”作为结尾（此时作为标记位的F7并不会被识别为一条Event而被解析），但“F7”本身却可以独立使用，用于一条标准MIDI消息的承载。此时的“F7”被称作一个“escape”——实在不知道这术语翻译成中文应该叫啥，逃跑？跑的“F0”它娘都不认得？<br>
　　这种设计的优势在于，可以允许分片发送大量数据。例如当多个“43 12 00”（据本人肤浅的视野目测，“43 12 00”不代表任何意义。。。）需要被发送时，可以使用如下的命令：
<pre class="prettyprint linenums">
/**
 * F0-F7承载命令示例（16进制）
 *
 00                         // start from tick 0
 F0 03 43 12 00             // start from F0
 81 48                      // 200-tick delta time
 F7 06 43 12 00 43 12 00    // F7 as an escape
 64                         // 100-tick delta time
 F7 04 43 12 00 F7          // F7 as an escape 
                            // together with the end of F0 while EOX is count into the last escape.
 */
</pre>
　　并且“F7”本身也可以作为独立消息使用：
<pre class="prettyprint linenums">
/**
 * F7作为escape使用
00                          // start from tick 0
F7 01 FC                    // short message FC - pause
30                          // 48-tick dalta time
F7 01 FB                    // FB - start
 */
</pre>
　　关于该类型消息的更多解释，还可<a href="http://www.somascape.org/midi/tech/spec.html#sysexmsgs" target="_blank">点击此处参考更详细的字段拆解</a>。
<h4>控制消息</h4>
　　老实说苦于并未真正接触过硬件MIDI设备并且所见MIDI文件中大都不包含此类信息，鄙人对于此类消息的理解亦完全基于机翻的文字描述，难免会有所纰漏，同时也希望能有此领域专业人士批评指正。<br>
　　非通道相关的控制类消息的部分工作已经被现今在诸多成熟的合成器默认实现了，例如“音调调整”被设计用于兼容老式可能存在音调不准的合成器，现在已经基本废弃。一些特殊的控制类消息可能并不会存在于MIDI文件中，而是被设计于输入设备上发往合成器（例如某个按钮）用于实时的播放控制。<br>系统专用消息是一类特殊的控制信息。<br>
　　控制消息包括两部分，“系统通用消息”和“实时系统消息”。控制类消息均对合成器起作用，其效果可能表现于整个音序的播放阶段。在上文中的“FC”、“FB”即为两个控制消息，分别代表“暂停”和“开始”。更多关于控制消息的细节请移步<a class="js_slide_link" href="#midi_cont">附录三：控制消息类型表</a>。
<h4>通道消息/Short Message</h4>
<pre class="prettyprint linenums">
/**
 * 通道消息标准格式
 *
类型和通道 | 数据1    数据2
1 ttt cccc   0xxxxxxx 0yyyyyyy
1 001 0000   01111111 01111111
 */
</pre>
　　好吧，怀旧一下。Short Message其实是Java中的叫法，Java把控制消息和通道消息全部合并称为短消息。<br>
　　顾名思义，这种类型消息与通道相关，这也是到目前为止唯一能跟通道和音轨之间的联系扯上点关系的数据了。一则通道消息包含2个或3个字节，并且没有长度标记。对于合成器而言，识别通道消息的标识就是高位字节首位为“1”并且紧邻1个或2个首位为“0”的低位字节（其他类型消息通过数据区长度或结束标记指定）。至于为何没有首位为0（状态位数值在128以下）的MIDI消息，鄙人目测也是为了防止消息数据区被数识别为另一则消息造成数据污染。<br>
　　如上图所示，通道信息中的“ttt”为信息类型标识，“cccc”为“0~15”共计16个通道标识，这也是为何MIDI通道只有16个的原因——超出了就根本表示不出来么...“数据1”和“数据2”所指代的含义有异于不同的通道信息类型。<br>
　　根据“ttt”的不同，通道类消息包括<b><i>Note Off</i></b>、<b><i>Note On</i></b>、<b><i>（触后）键力度调整/Polyphonic Key Pressure(After Touch)</i></b>、<b><i>控制器变化/Control Change</i></b>、<b><i>程序变化（切换乐器）/Program Change</i></b>、<b><i>（触后）通道压力调整/Channel Pressure(After Touch)</i></b>和<b><i>音轮调节/Pitch Wheel Change</i></b>共计7个。虽然数据格式通常是一定的，但是不同的合成器对于各类消息的几个字段解释可能有异。以下涉及实例部分均以使用最广泛的<b><i>GS波表软件合成器</i></b>为例讲解。<br>
　　全部通道消息细节信息烦请查阅“<a class="js_slide_link" href="#midi_chan">附录四：通道消息类型表</a>”。
<ul class="article_141_ul">
    <li>
        <b>Note On</b>(1001)<b>/Note Off</b>(1000)<br>
    　　On/Off信息往往成对出现，开启和关闭音符，表现为发声和停止发声，在硬件设备上（例如钢琴）就是按下和松开一个按键。此时数据1表示发声音调，数据2表示按键力度（表现为音量，当然了敲键盘越重钢琴越响）。这类似于在一个有16条通道的排水管中，打开和关闭闸门，当“闸门”打开时音乐数据流便被允许通过该排水管，如果“闸门”没被关闭则此类型的水流（当前音调和力度）将会一直存在于该通道。指定了相同音调的“Note Off”信息将关闭信息流，“Note Off”中的力度信息将表示音符的松开力度。“附录六”中给出了完整的<a class="js_slide_link" href="#midi_tone">128个 Note Key 与音阶的对应关系</a>。
<pre class="prettyprint linenums">
/**
 * 以最大力度在 Channel 0 按下C大调，并在持续240个tick单位后松开
 * C大调为从0到127号中的第60号，0x3C；中调64号为第四音阶E调，0x40。
 * GS波表软件合成器中每1/4个音符持续0.5秒，故该Note共持续5秒。
 *
         00000000 10010000 00111100 01111111
00000001 01110000 10000000 00111100 01111111
 */
</pre>
    　　<a target="_blank" href="http://yarmyarch.com/workspace/midi/Piano_C_5s.mid">点此下载《24tick/秒的 Piano MIDI 样例》</a>。<br>
        <br>
    </li>
    <li>
        <b>程序变化/Program Change</b>（1100）<br>
    　　由于较常用所以插个队~~Meta消息中的“FF 04”消息用于标注“乐器名称”。然而实际上，其仅用于标注，并不会对通道上的音频流产生实质影响。真正能产生影响的就是该 Program Change 消息，其中的数据1为128为音色号，数据2为空。在默认（未设定 Program Change 事件）情况下，除了第10号通道以外，其余通道均使用与当前通道号一致的音色；每个通道（包括10号通道）均会响应程序切换事件并对该事件之后的所有Note采用新设定的音色（Program Change 之前的事件不受设定音色影响）。
<pre class="prettyprint linenums">
/**
 * 切换 Channel 0 当前默认乐器“0-Piano”为“17-Percussive”；
 * 以最大力度在 Channel 0 按下C大调，并在持续240个tick单位后松开；
 *
         00000000 11000000 00010001
         00000000 10010000 00111100 01111111
00000001 01110000 10000000 00111100 01111111
 */
</pre>
    　　<a target="_blank" href="http://yarmyarch.com/workspace/midi/Vibraphone_C_5s.mid">点此下载《24tick/秒的 Percussive MIDI 样例》</a>。<br>
        <br>
    </li>
    <li>
        <b>触后键力度/Polyphonic Key Pressure</b>（1010）<br>
    　　弹钢琴时一屁股坐上琴键并一直坐在上面然后站起来，跟用手按下之后缓慢回弹——这两种情况发出的声音肯定是不一样的。触后键力度即用于表示上一个琴键被按下（Note On）之后，在松开之前该琴键的保持力度。<br>
    　　由于是<b><i>触后量</i></b>，因此在此事件之前已经被关闭的音符将不会受到力度影响。<b>注意</b>，该事件将影响当前通道上所有处于播放状态或即将被打开的音符。
<pre class="prettyprint linenums">
/**
 * 以最大力度在 Channel 0 按下C大调，并在240个tick单位内让声音渐变至消失
 * 每个事件之间的tick间隔为1，
 * 约每2个tick单位压力降低1
 *
         00000000 11000000 00010001 // Program Change
00000000 10010000 00111100 01111111 // Note On
00000001 10100000 00111100 01111111 // PolyKey Pressure
00000001 10100000 00111100 01111110
00000001 10100000 00111100 01111110
...      // 剩余237个触后键力度调整
00000001 10100000 00111100 00000000
00000000 10000000 00111100 00111111 // Note Off
 */
</pre>
    　　需要注意的是，部分音色（经典例如钢琴）在一个时间足够长的 Note On 和 Note Off 之间，也即在该音调完整播放时本身就有音量衰减。甚至对于钢琴而言，标准音色在 Note Off 时声音并不会立即消失，而是以更快的速度将力度渐变至0。这是为了还原此类音色在真实乐器上的演奏效果，当然也存在多数音色将始终在 Note On 和 Note Off 之间保持同一播放效果。大部分合成器均能正确根据音色库的定义表现这些音色的特效，然而对于预先录制为<i>.mp3</i>格式的音色库而言，模拟的合成器对在 Note Off 上的处理将会变得相当尖锐和突兀。看看名噪一时的<a href="http://mudcu.be/piano/" target="_blank">Color Piano</a>，试着弹几个键就知道我在说什么了。这时合成器应当能够主动为特定音色添加触后量变化消息，以实现渐变的延音效果。<br>
    　　在以上两则Midi示例中，<a target="_blank" href="http://yarmyarch.com/workspace/midi/Piano_C_5s.mid">《Piano MIDI 样例》</a>属于会渐弱的音色，而<a target="_blank" href="http://yarmyarch.com/workspace/midi/Vibraphone_C_5s.mid">《Percussive MIDI 样例》</a>不存在该效果，其音色信息将会一只持续到对应的 Note Off 被解析或（如果没有被关闭）直至音轨末尾。<br>
    　　<b>注：</b>由于成本原因，大多数MIDI键盘制造商并不单独为总数128的每个键提供触后压力变化输入。因此，该信息也并不能在所有合成器上被正确识别。要达到类似的效果，请<b>使用第11号控制器</b>。<a target="_blank" href="http://yarmyarch.com/workspace/midi/Vibraphone_A0Slide_5s.mid">点此下载24tick/秒的 Percussive MIDI 声音渐弱样例</a>，使用触后键力度变化；推荐尝试可被Windows默认合成器正确识别的<a target="_blank" href="http://yarmyarch.com/workspace/midi/Vibraphone_B0Slide_5s">11号-力度控制器版本</a>。<br>
        <br>
    </li>
    <li>
        <b>控制器变化/Control Change</b>（1011）<br>
    　　控制器是MIDI创作的精髓所在。特殊音效例如颤音、混响声度、声相偏移等等操作都需要通过控制器完成，控制器的完整程度和功能强弱也一直是极客玩家们选择数字音乐产品的重要指标。可惜屌丝从来没玩过那么高端的玩意。。。对于<a class="js_slide_link" href="#midi_ctrl">附录五：控制器类型表</a>中所罗列的控制器也就到了能认识那些字的程度。。。也欢迎能有高端玩家留下关于控制器的模拟实现细节的完善意见。控制器调整对当前通道中位于其后的所有音符起效。<br>
    　　在总128个控制器中，
<pre class="prettyprint linenums">
/**
 * 以最大力度在 Channel 0 按下C大调，并在240个tick单位内让声音渐变至消失
 * 使用11号-力度控制器替代触后键力度实现渐变
 * 在第2.5秒单位时为音符添加最大力度颤音
 *
         00000000 11000000 00010001 // Program Change
00000000 10010000 00111100 01111111 // Note On
00000001 10110000 00001011 01111111 // 0xB0 0x11 0x7F - 11号控制器
00000001 10110000 00001011 01111111
00000001 10110000 00001011 01111110
...      // 中间117个11号控制器
00000001 10110000 00000001 01111111 // 0xB0 0x01 0x7F - 1号控制器，120tick时最大力度颤音
...      // 中间120个11号控制器
00000001 10110000 00001011 00000000 // 0xB0 0x11 0x00 - 11号控制器最小力度
00000000 10000000 00111100 00111111 // Note Off
 */
</pre>
    　　<a target="_blank" href="http://yarmyarch.com/workspace/midi/Vibraphone_B0Slide_vibrato_5s.mid">点此下载《24tick/秒的 Percussive 颤音渐弱样例》</a><br>
        <br>
    </li>
    <li><b>通道压力调整/Channel Pressure</b>（1101）<br>
    　　与 Program Change 类似，该消息仅包含一个数据位。其作用与“触后按键力度调整消息”类似，但该事件被设计用于某些不能正确响应和弦（触后）键力度的合成器，将对当前所指定的音轨中所有正在播放的Note里拥有最高力度的Note执行压力变化（一说将对通道内所有音符执行压力变化——鬼特么知道，GS不支持，所以还是继续用11号全通道吧...）。为了避免混响时出现意想不到的情况，通常建议使用<b><i>单通道的Mono模式</i></b>（参考附件四中关于通道模式信息中的描述）。<br>
        <br>
    </li>
    <li>
        <b>音调轮变化/Pitch Wheel Change</b>（1110）<br>
    　　“触后键压力调整”用于调整按键的保持力度，与之对应，音调轮则用于处理音符播放时的音调偏移，不过该偏移对当前通道中所有正在播放的音符生效，数据1和数据2共组成14位二进制数表示音调偏移量，比较诡异的是此处<b>数据1为低位字段</b>，即可用于微调；<b>数据2为高位字段</b>。该可用于产生音调的渐变，实现圆润的滑音效果。在<b><i>GS波表软件合成器</i></b>中，只能实现粗调——消息数据1无意义，数据2表示精度为127的调音轮变化，其中值为0x40，十进制64，也即二进制01000000。与触后键力度一致，该变化也属于<b><i>触后量</i></b>。
<pre class="prettyprint linenums">
/**
 * 以最大力度在 Channel 0 按下C大调，并在240个tick单位内让声音渐变至消失
 * 在第2.5秒单位时为音符添加最大力度颤音
 * 在 240 tick 内，仅使用粗调将音符提升一个音阶
 * 约每3个tick单位音调提升1
 *
         00000000 11000000 00010001 // Program Change
00000000 10010000 00111100 01111111 // Note On
00000001 10110000 00001011 01111111 // 0xB0 0x11 0x7F - 11号控制器
00000000 11100000 00000000 01000000 // 0xE0 0x00 0x40 - 音调轮中值
00000001 10110000 00001011 01111111
00000000 11100000 00000000 01000000
00000001 10110000 00001011 01111110
00000000 11100000 00000000 01000001 // 0xE0 0x00 0x41
...      // 117个11号控制器和音调轮变化
00000001 10110000 00000001 01111111 // 0xB0 0x01 0x7F - 1号控制器，120tick时最大力度颤音
...      // 120个11号控制器和音调轮变化
00000001 10110000 00001011 00000000 // 0xB0 0x11 0x00 - 11号控制器最小力度
00000000 11100000 00000000 01111111 // 0xE0 0x00 0x7F - 音调最高偏移
00000000 10000000 00111100 00111111 // Note Off
 */
</pre>
    　　<a target="_blank" href="http://yarmyarch.com/workspace/midi/Vibraphone.mid">点此下载《24tick/秒的 Mono 模式 Channel 0 下 Percussive 颤音渐弱音调渐变样例》</a>，或者看看<a href="http://www.baidu.com/s?word=%E6%AE%8B%E5%BF%8D%E7%9A%84%E5%B7%A8%E7%A5%9E%E4%B9%8B%E5%88%83&tn=39015028_hao_pg&lm=-1" target="_blank">残忍之快速的巨神之刃</a>放松放松。
    </li>
</ul>
<h2><a name="midi_js" id="midi_js"></a>js生成数字音乐</h2>
　　啧啧。。。目前看起来，为了能把我们想要的骡子声用来挂门上辟邪，我们的至尊8合1小霸王可能得加点位宽才顶得住。不过好歹也算是有些眉目了，我们已经生成了一串串可以出声的字节，接下来只需要把这一坨东西写出为一个".mid"文件就行。<br>
　　因此，“Js生成数字音乐”步骤中一个亟待解决的问题是：<b>用Javascript抽象Midi文件结构</b>。<br>
　　浏览一下关于MIDI文件格式的定义，在“音调轮变化”一节实例《残忍之快速的巨神之刃》中的二进制串已经包含了一首完整Midi所需要的大部分数据，让我们补充一些组成一首完整Midi文件所需的细节内容：一个 Header Chunk，Track Chunk 头和结束标记（0xFF 0x2F 0x00），上文中提到的通道模式调整和版权声明。差不多够了，所以最后这坨东西看起来可能像下面这样——这将是一个拥有2001字节的数据串。
<pre class="prettyprint linenums">
/**
 * 完整版“残忍之快速的巨神之刃”
 *
01001101 01010100 01101000 01100100 // MThd
00000000 00000000 00000000 00000110 // header lentgh: 6 bytes
00000000 00000001                   // Midi Type: 1
00000000 00000001                   // Track count: 1
00000000 00011000                   // Division: 48 ticks / second

01001101 01010100 01110010 01101011 // MTrk
00000000 00000000 00000111 10111011 // Track Length: 955 bytes - length-fixable data
00000000 11111111 00000010 00011100 // tick 0, 0xFF 0x02 0x1C - CopyRight, length: 28 bytes
00101000 01100011 00101001 00110010 // CopyRight Contents in 28 bytes.
00110000 00110001 00110011 00100000
01100010 01111001 00100000 01111001
01100001 01110010 01101101 01111001
01100001 01110010 01100011 01101000
01000000 01101100 01101001 01110110
01100101 00101110 01100011 01101110

00000000 11000000 00010001          // Program Change
00000000 10010000 00111100 01111111 // Note On
00000001 10110000 00001011 01111111 // 0xB0 0x11 0x7F
00000000 11100000 00000000 01000000 // 0xE0 0x00 0x40
00000001 10110000 00001011 01111111
00000000 11100000 00000000 01000000
00000001 10110000 00001011 01111110
00000000 11100000 00000000 01000001 // 0xE0 0x00 0x41
                                    // 117 No.11 Controller
00000001 10110000 00000001 01111111 // 0xB0 0x01 0x7F
                                    // 120 No.11 Controller
00000001 10110000 00001011 00000000 // 0xB0 0x11 0x00
00000000 11100000 00000000 01111111 // 0xE0 0x00 0x7F
00000000 10000000 00111100 00111111 // Note Off

00000000 11111111 00101111 00000000 // tick 0, 0xFF 0x2F 0x00 - End of Track Chunk
 */
</pre>
　　有兴趣的同僚们可以用二进制文件编辑器，例如UltraEditor之类的打开《残忍之轻快的巨神之刃》，对照以上二进制数据。如果发现有些不一样的地方——不要在意那些细节啦——这文件打开之后看起来大概像这样：<br>
    <br>
<div class="img"><img src="http://yarmyarch.com/workspace/midi/blade.png" style="max-width:632px;margin:0 auto;"/></div>
　　我们差不多得到了它。由于这是一组显而易见的二进制数据，我们总能找到方法将其写出文件，尤其是在HTML5的支持下。
<h3>Blob写出文件/Midi数据序列化</h3>
　　<a href="http://www.w3.org/TR/FileAPI/" target="_blank">Html5的 File API</a>绝逼是个臣诚惶诚恐死罪死罪的伟大发明，尤其是Blob这样的变态玩意——允许将任意数据序列化出为可被传输的二进制数据。啊，骡子出头有望，我们可以把上面一系列数据改造成一个Unit8数组，再通过Blob写出即可实现挂墙上的宏伟目标。
<pre class="prettyprint linenums">
var dataString = "", // contents of the midi given above
    dataArray = dataString.split(/\D/).map(function(str) {
        return parseInt(str, 2);
    }),
    blob = new Blob([new Uint8Array(dataArray)], {type:"audio/midi"});
</pre>
　　有了Blob事情就好办多了，该文件在内存中创建完毕，已经可以通过DataUrl提供访问了。设想我们让用户点击直接下载：
<pre class="prettyprint linenums">
var url = URL.createObjectURL(blob);
document.body.onclick = function() {
    window.open(url);
    document.body.onclick = "";
}
</pre>
<h3>类组织结构</h3>
　　当然我们不能总是用二进制说话，骡子肯定是听不懂的。我们倒是可以把Midi文件结构中的数据部分按类别划分出来，并创建一系列便于访问并且兼顾性能的接口用于操纵文件数据。UML图就不画了，直接贴5年前的——吐槽一下，这领域的更新足见有多让人捉襟见肘，数年前的资料放在如今仍然适用，没准还会一直适用下去。。。<br>
    <br>
<div class="img"><img src="http://yarmyarch.com/workspace/midi/uml.png" style="max-width:673px;margin:0 auto;"/></div>
　　对于这个结构鄙人思索良久。对于大量事件中的特定事件进行增删改查操作是一件相当蛋疼的事，以至于最初在Java中我们只能采用遍历来实现。或许我们仍然可以沿用Java中关于时间戳的天才设计——<b>事件tick表示从Sequence开始播放时到当前事件发生时的偏移量</b>。在这种设计下，可以基于时间戳哈希事件，提供高性能操作的可能性。<br>
　　通过基于tick哈希的设计对上述UML图进行优化，我们可以很容易整理出如下的一些基本类，其核心为三个数据层：<b><i>Message</i></b>、<b><i>Track</i></b>和<b><i>Sequence</i></b>。
<h4>Message</h4>
　　Midi音序的基本数据单元，维护<i>type</i>和<i>data</i>两个字段并提供相应的增改功能，同时提供序列化支持。需要注意的是对于除通道类消息之外的消息类型，序列化时需要在type和data之间添加可变长度数表示的数据字段长度。
<h4>Track</h4>
　　基于tick哈希设计的Message容器。此处由于需要对tick进行直接管理，因此在Message类和Track类中间省略MidiEvent层。作为容器对象，提供基本的容器操作，并提供序列化的支持。<br>
　　通过以上简单探讨，Track作为容器应当具备以下一些特性：
<ul class="article_141_ul">
    <li>事件允许重复。即在相同时间戳里允许产生在字节范围内完全一致的多个消息；</li>
    <li>事件严格有序。同一个时间戳内，Program Change 和 Note On 位置的调换会完全改变输出音符的音色，因此事件之间必须有序；</li>
    <li>提供尽量高效的访问。单一Track可维护的事件最多为四个字节表示的可变长度数：01111111 01111111 01111111 11111111——即268435455个，这是个相当可观的数据。设想在一个节奏一定的音序中，混响音符的节拍之间的间隔往往是固定的，这也意味着表示这些音符的Midi事件之间 Delta Tick 将会是一些固定的整数。这也是以初始偏移量作为 tick 并哈希的主要原因所在。</li>
    <li>序列化时进行时间戳转换。将从音序初始的时间戳数值转换为当前事件与上一事件之间的时间戳差值。</li>
    <li>为了提供尽量还原Midi标准的自由度，Track将不对Channel和Instrument做任何限制，亦即允许该类的使用者只有设定当前Track与Channel和Instrument的映射关系，而无需遵循之前所描述（为了便于维护和管理而采用Mono模式、单一Track使用一种音色）的种种约束条件。</li>
</ul>
　　在以上规则和约束下，鄙人只能想到哈希+数组的存储方式。该解决方案的局限性也很明显，同一tick下存在的消息过多时也伴随性能将明显下滑。
<pre class="prettyprint linenums">
/**
 * key: tick count from the start of the sequence.
 * value: msgArr {Array<Message>} messages that're sharing the same tick which should 
 *     be contributed by type and data, and they could be serialized.
 */
events = {
    0 : [
        0x903F7F,
        // other messages in tick 0
    ],
    120 : [
        0x803F7F,
        // other messages in tick 120
    ]
}
</pre>
<h4>Sequence</h4>
　　我们直接跳过了作为逻辑结构的“Chunk”。同时 Header Chunk 作为一个Midi乐谱的必备数据，因此可以直接拆解为音序的一系列属性，甚至可以写入构造函数。从这个角度看，Sequence是一个纯粹的Track容器，提供基本容器方法和对 Header Chunk 属性的访问，并允许序列化。
<h3>扩展和封装</h3>
　　我一直怀疑自己是不是点错了技能树。讨论了大半篇幅到太阳都快落山了的Midi文件数据，三个基本类就已全部囊括。如果我们再提供一些对于动态加载、二进制/十六进制数据运算、用于传递数据用的Base64编码和Blob支持，就几乎得到了一个比较完善的<b>数字音乐模拟系统</b>——的数据部分，亦即上文中UML图的Sequencer以下的部分。<br>
　　当然我在<a href="https://github.com/yarmyarch/Midi-in-javascript" target="_blank">这里</a>已经做了一部分工作，也欢迎大家前去围观批评。对于我们在今天早些时候提到的“《残忍之轻快的巨神之刃》”，代码就可以这样写了：
<pre class="prettyprint linenums">
var seq = new Midi.Sequence(1, 24),
    track = seq.getTrack(0);

track.addEvent(0, new Midi.Message(0xc0, 0x11));        // Program Change to No.17
track.addEvent(0, new Midi.Message(0xB0, [124,0]));     // omni on
track.addEvent(0, new Midi.Message(0xB0, [126,1]));     // mono on & omni on
track.addEvent(0, new Midi.Message(0x90, [60,127]));    // Note On Key 0x3C
track.addEvent(120, new Midi.Message(0xB0, [1,127]));   // Vibrato Controller
track.addEvent(240, new Midi.Message(0x80, [60,127]));  // Note Off

// Apply Voice Change and Pitch Wheel Change
for (var i = 1; i <= 240; ++i) {
    track.addEvent(i, new Midi.Message(0xB0, [11, 127 - ~~((127 / 240) * i)]));
    track.addEvent(i, new Midi.Message(0xE0, [0, 64 + ~~((63 / 240) * i)]));
}

// Click & Download
var blob = new Blob([seq.toByteArray(1)], {type:"audio/midi"});
var url = URL.createObjectURL(blob);
document.body.onclick = function() {
    window.open(url);
    document.body.onclick = "";
}
</pre>
　　你也可以<a href="http://yarmyarch.github.io/Midi-in-javascript/demo.html" target="_blank">到这里来现场玩一玩</a>，或者<a href="https://github.com/yarmyarch/Midi-in-javascript" target="_blank">点击这里查看源码</a>。
<h2><a name="midi_play" id="midi_play"></a>MIDI实时播放</h2>
　　当然把一个Midi乐谱下载到本地用GS波表软件合成器播放肯定是不存在问题的。但是对于一个存在实时交互的系统，合成器应当能够对用户输入做出反应，这是“下载文件并交由本地合成器播放”策略所不能解决的问题。<br>
　　设想我们希望在浏览器端创建最初所提到的完整数字音乐模拟系统，允许用户自由创作音符并实时对以创作的内容进行修改，该模拟应当可以对用户的输入进行反馈，即提供按键或操作的声音预览。前文中我们致力于并成功解决了<b>用Javascript解析和封装Midi乐谱</b>的问题，下一个问题是：<b>产生的Midi序列如何实时播放？</b>
　　浏览器不能直接解析Midi文件，因为浏览器中并不集成音色库，也没有合成器。访问声卡合成器的功能就别想了，几年内是出不来的，看看使用显卡的硬件加速进程就知道。不过仍然有多种方法可供选择。</b>
<ul class="article_141_ul">
    <li><b>MP插件：</b>一种方法是，把GS波表软件合成器搬到浏览器中来。通过给浏览器安装 Media Player 插件即可实现，输入文件Url播放；</li>
    <li><b>Flash插件：</b>Flash中已经有多个版本成熟的合成器可以使用，例如大名鼎鼎的<a href="http://www.audiotool.com/" target="_blank">AudioTool</a>。鉴于鄙人浅薄的乐理知识，这么高端的东西还是不去碰了。。。</li>
    <li><b>Java插件：</b>Java真是一门伟大的语言，JDK从7.0开始提供了从Midi文件系统到合成器的全部实现。</li>
    <li><b>预处理的音色库：</b>前文中提到过的<a href="http://mudcu.be/midi-js/" target="_blank">MIDI.js</a>就采用了这种方法，他们将完整的音色库定义转换成Ogg文件并使用base64编码，以便浏览器可以直接播放。Udcobe团队创造了<a href="http://mudcu.be/journal/2011/11/base64-soundfonts/" target="_blank">一种非常靠谱的声音转换算法</a>，用于将Midi乐谱通过音色库渲染成Ogg，再转换为压缩音频。旧式的录音棚使用高保真录音来实现从Midi到压缩音频的转换，相比之下Udcube的算法更具优越性，免去了对高端声卡的需求和不必要的干扰。</li>
</ul>
　　以上几种方法或多或少都会存在各种问题。在flash淘汰声一浪高过一浪的今天，使用插件不会是什么明知的选择。借助 <a href="http://www.w3.org/TR/webaudio/" target="_blank">Html5 Audio API</a>，预处理的压缩音频音色库能解决许多问题，但其欠缺对于音色播放的完全控制，也缺乏必要的扩展性和操作难度。为了能够使用当前已不可计数的各种优秀音色库和实时播放Midi乐谱，我们需要一个工具，该工具能够解析音色库文件，以允许用户使用本地音色库而不用消耗漫长的时间下载预定义的数据，因为Midi本身应当是很优雅和简约的存在；同时能够提供对Midi乐谱文件的解析功能，能够响应合理的通道事件并在输出设备上产生效果。<br>
　　也就是说，我们需要在浏览器端使用 <a href="http://www.w3.org/TR/webaudio/" target="_blank">Html5 Audio API</a> 编码一个浏览器端的<b><i>合成器</i></b>。
<h3>浏览器端的合成器</h3>
　　这是另一个话题，该话题的含量甚至已经超过了这篇文章到目前为止加上附录的所有内容长度，现在也还没有这方面案例可以参考。这也是鄙人今后相当长一段时间内的调研方向，FML...<br>
　　基于以上原因此处不对合成器的模拟实现做过多讨论，因为......我TM也不懂啊！玩蛋去。。。下面是一些可用的参考，制作列举不做评论。
<ul class="article_141_ul">
    <li><a href="http://www.docjar.com/html/api/com/sun/media/sound/SF2Instrument.java.html" target="_blank">Java 7.0 中关于sf2文件的解析源码</a>；</li>
    <li><a href="https://www.ohloh.net/accounts/toyoshim" target="_blank">日本哥Toyoshim</a>的开源项目<a href="https://code.google.com/p/tss/" target="_blank"> T'Sound System Library </a>中音色库文件的js解析源码。</li>
</ul>
　　先就这么多吧，就这俩已经够让人喝一壶了。各位同僚们如果有什么好的建议也烦请不吝赐教。
<h2><a name="midi_future" id="midi_future"></a>现状&amp;将来</h2>
　　总的来说 Web MIDI 的发展势头还是很强劲的，无奈专业设备的准入门槛实在不在鄙人这样的资深屌丝能承受之范围，各种高大上合成器应用也非我这五音不识的认知所能理解。不过可惜的是，<a href="https://github.com/WebAudio/web-midi-api" target="_blank">HTML5 MIDI API</a> 对合成器和模拟方面似乎并没有什么兴趣，该草案2013年的主要进展仍然是尝试在浏览器中添加MIDI硬件设备接口——这也基本上宣布了该草案在成型之内一两年里的缓步发展状况，因为目前还未有纯粹基于浏览器的合成器面世，键盘接进浏览器也暂时还处于只能玩蛋的状态——兴许后续的扩展中会有浏览器厂商愿意解决合成器的问题，即便这意味着得招一帮既懂音乐又会写内核的人来开发这一系列API的实现——不过谁知道呢，在那之前我们可能还得继续关注并着手解决如何才能够实现让挂在浏览器里的骡子音色可以用来驱灾撵鬼的问题。<br>
　　谢谢观赏，后会有期。<br>
<h2><a name="midi_atta" id="midi_atta"></a>附录</h2>
<h3><a class="js_toggle_title js_toggle_title_ins" name="midi_ins" id="midi_ins">附录一：GS波表软件合成器音色表（GM2标准）</a></h3>
<div class="js_toggle_body" id="toggleBody_ins">
    点击查看<a href="http://en.wikipedia.org/wiki/General_MIDI_Level_2" target="_blank">全部GM2标准音色表</a>，或了解<a href="http://en.wikipedia.org/wiki/General_MIDI" target="_blank">GM音色标准</a>以及 Channel 10 保留音色<br>
    <br>
    <table class="midi_ins_table" border=1 cellspacing=0 cellpadding=0><tr><td colspan=3><p><b><span>&nbsp;钢琴 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>0</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Acoustic Grand Piano</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>大钢琴<span>(</span>声学钢琴<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>1</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Bright Acoustic Piano</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>明亮的钢琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>2</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Electric Grand Piano</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>电钢琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>3</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Honky-tonk Piano</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>酒吧钢琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>4</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span >Rhodes</span><span> Piano</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>柔和的电钢琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>5</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Chorused Piano</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>加合唱效果的电钢琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>6</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Harpsichord</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>羽管键琴<span>(</span>拨弦古钢琴<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>7</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Clavichord</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>科拉维科特琴<span>(</span>击弦古钢琴<span>)</span></span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>色彩打击乐 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>8</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Celesta</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>钢片琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>9</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Glockenspiel</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>钟琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>10</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Music box</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>八音盒</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>11</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Percussive</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>颤音琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>12</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Marimba</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>马林巴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>13</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Xylophone</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>木琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>14</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Tubular Bells</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>管钟</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>15</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Dulcimer</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>大扬琴</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>风琴 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>16</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span  >Hammond</span><span> Organ</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>击杆风琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>17</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Percussive Organ</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>打击式风琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>18</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Rock Organ</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>摇滚风琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>19</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Church Organ</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>教堂风琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>20</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Reed Organ</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>簧管风琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>21</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Accordian</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>手风琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>22</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Harmonica</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>口琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>23</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Tango Accordian</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>探戈手风琴</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>吉他 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>24</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Acoustic Guitar (nylon)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>尼龙弦吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>25</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Acoustic Guitar (steel)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>钢弦吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>26</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Electric Guitar (jazz)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>爵士电吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>27</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Electric Guitar (clean)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>清音电吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>28</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Electric Guitar (muted)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>闷音电吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>29</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Overdriven Guitar</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>加驱动效果的电吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>30</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Distortion Guitar</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>加失真效果的电吉他</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>31</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Guitar Harmonics</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>吉他和音</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>贝司 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>32</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Acoustic Bass</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>大贝司<span>(</span>声学贝司<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>33</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Electric Bass(finger)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>电贝司<span>(</span>指弹<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>34</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Electric Bass (pick)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>电贝司<span>(</span>拨片<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>35</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Fretless Bass</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>无品贝司</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>36</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Slap Bass 1</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>掌击<span>Bass 1</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>37</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Slap Bass 2</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>掌击<span>Bass 2</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>38</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Bass 1</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>电子合成<span>Bass 1</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>39</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Bass 2</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>电子合成<span>Bass 2</span></span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>弦乐 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>40</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Violin</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>小提琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>41</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Viola</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>中提琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>42</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Cello</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>大提琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>43</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Contrabass</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>低音大提琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>44</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Tremolo Strings</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>弦乐群颤音音色</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>45</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pizzicato Strings</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>弦乐群拨弦音色</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>46</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Orchestral Harp</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>竖琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>47</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Timpani</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>定音鼓</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>合奏<span>/</span>合唱 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>48</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>String Ensemble 1</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>弦乐合奏音色<span>1</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>49</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>String Ensemble 2</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>弦乐合奏音色<span>2</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>50</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Strings 1</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成弦乐合奏音色<span>1</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>51</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Strings 2</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成弦乐合奏音色<span>2</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>52</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Choir Aahs</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>人声合唱<span>“</span>啊<span>”</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>53</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Voice Oohs</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>人声<span>“</span>嘟<span>”</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>54</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Voice</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成人声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>55</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Orchestra Hit</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>管弦乐敲击齐奏</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>铜管 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>56</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Trumpet</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>小号</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>57</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Trombone</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>长号</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>58</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Tuba</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>大号</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>59</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Muted Trumpet</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>加弱音器小号</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>60</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>French Horn</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>法国号<span>(</span>圆号<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>61</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Brass Section</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>铜管组<span>(</span>铜管乐器合奏音色<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>62</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Brass 1</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成铜管音色<span>1</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>63</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Brass 2</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成铜管音色<span>2</span></span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>簧管 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>64</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Soprano Sax</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>高音萨克斯风</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>65</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Alto Sax</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>次中音萨克斯风</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>66</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Tenor Sax</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>中音萨克斯风</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>67</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Baritone Sax</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>低音萨克斯风</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>68</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Oboe</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>双簧管</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>69</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>English Horn</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>英国管</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>70</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Bassoon</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>巴松<span>(</span>大管<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>71</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Clarinet</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>单簧管<span>(</span>黑管<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>笛<span> </span></span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>&nbsp;</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>&nbsp;</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>72</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Piccolo</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>短笛</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>73</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Flute</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>长笛</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>74</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Recorder</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>竖笛</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>75</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pan Flute</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>排箫</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>76</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Bottle Blow</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>[</span><span>中文名称暂缺<span>]</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>77</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Shakuhachi</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>日本尺八</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>78</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Whistle</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>口哨声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>79</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Ocarina</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>奥卡雷那</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>合成主音 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>80</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 1 (square)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>1(</span>方波<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>81</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 2 (sawtooth)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>2(</span>锯齿波<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>82</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 3 (caliope lead)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>3</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>83</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 4 (chiff lead)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>4</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>84</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 5 (charang)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>5</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>85</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 6 (voice)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>6(</span>人声<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>86</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 7 (fifths)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>7(</span>平行五度<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>87</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Lead 8 (bass+lead)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成主音<span>8(</span>贝司加主音<span>)</span></span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>合成音色 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>88</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 1 (new age)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>1(</span>新世纪<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>89</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 2 (warm)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>2 (</span>温暖<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>90</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 3 (polysynth)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>3</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>91</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 4 (choir)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>4 (</span>合唱<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>92</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 5 (bowed)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>5</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>93</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 6 (metallic)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>6 (</span>金属声<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>94</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 7 (halo)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>7 (</span>光环<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>95</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Pad 8 (sweep)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成音色<span>8</span></span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>合成效果 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>96</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 1 (rain)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 1 </span>雨声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>97</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 2 (soundtrack)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 2 </span>音轨</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>98</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 3 (crystal)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 3 </span>水晶</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>99</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 4 (atmosphere)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 4 </span>大气</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>100</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 5 (brightness)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 5 </span>明亮</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>101</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 6 (goblins)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 6 </span>鬼怪</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>102</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 7 (echoes)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 7 </span>回声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>103</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>FX 8 (sci-fi)</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成效果<span> 8 </span>科幻</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>民间乐器 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>104</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Sitar</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>西塔尔<span>(</span>印度<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>105</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Banjo</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>班卓琴<span>(</span>美洲<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>106</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Shamisen</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>三昧线<span>(</span>日本<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>107</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Koto</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>十三弦筝<span>(</span>日本<span>)</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>108</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Kalimba</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>卡林巴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>109</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Bagpipe</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>风笛</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>110</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Fiddle</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>民族提琴</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>111</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Shanai</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>山奈</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>打击乐器 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>112</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Tinkle Bell</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>叮当铃</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>113</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Agogo</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>[</span><span>中文名称暂缺<span>]</span></span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>114</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Steel Drums</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>钢鼓</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>115</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Woodblock</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>木鱼</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>116</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Taiko Drum</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>太鼓</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>117</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Melodic Tom</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>通通鼓</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>118</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Synth Drum</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>合成鼓</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>119</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Reverse Cymbal</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>铜钹</span></p></td></tr><tr><td colspan=3 style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><b><span>声音效果 </span></b></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>120</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Guitar Fret Noise</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>吉他换把杂音</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>121</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Breath Noise</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>呼吸声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>122</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Seashore</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>海浪声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>123</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Bird Tweet</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>鸟鸣</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>124</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Telephone Ring</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>电话铃</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>125</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Helicopter</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>直升机</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>126</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Applause</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>鼓掌声</span></p></td></tr><tr><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>127</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>Gunshot</span></p></td><td style='padding:3.75pt 3.75pt 3.75pt 3.75pt'><p><span>枪声</span></p></td></tr></table>
</div>

<h3><a class="js_toggle_title js_toggle_title_meta" name="midi_meta" id="midi_meta">附录二：Meta消息类型表</a></h3>
<div class="js_toggle_body" id="toggleBody_meta">
    译自：<a href="/workspace/midi/Standard MIDI file format, updated.pdf" target="_blank">标准MIDI文件格式规范1.1</a>，或<a href="http://courses.cs.washington.edu/courses/cse467/05wi/labs/FinalProject/MidiProject/Standard%20MIDI%20file%20format,%20updated.pdf" target="_blank">点此进入原文链接</a><br>
    <br>
    <table class="midi_ins_table" border=1 cellspacing=3 cellpadding=0 style='border:outset 1.5pt;'> <tr> <td class="midi_meta_thead" colspan=3 style='border:none;padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p align="center" style='text-align:center;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%; color:black'>Meta Message</span></b></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=3 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 00 02</span><span style='font-size:12.0pt; line-height:150%;color:black'> <i>ss ss</i></span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name=音序号></a><b><span style='font-size:12.0pt;line-height:150%;color:black'>音序号</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这是一个可选的事件，它只能产生在第一个<span>track</span>，并且在非零时刻之前。</span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%;color:#333333'>格式</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>2</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>文件中，这个用来识别每个</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> track</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>，如果忽略，这个序列号从而用</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> track </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>出现的次序表示。</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>. </span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%;color:#333333'>格式</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>1</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>文件中，这个事件只能产生在第一个</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> track</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>。</span><span style='font-size:9.0pt; line-height:150%;color:#333333'> </span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>ss ss</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>音序号<span>,16 bit </span>二进制数。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=4 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 01</span><span style='font-size:12.0pt;line-height: 150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name=文本事件></a><b><span style='font-size:12.0pt;line-height:150%;color:black'>文本事件</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个事件是用来注释<span> track </span>的文本。<span> <br> </span>独立的<span>8</span>位数据<span>(</span>其它的<span>ASCII</span>文本<span>) </span>也是允许的。 </span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height: 150%;color:black'>长度<span>&gt;</span></span></i></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height: 150%;color:black'>文本<span>&gt;</span></span></i><span style='font-size:12.0pt;line-height:150%; color:black'> </span><span style='font-size:12.0pt;line-height:150%; color:black'>的长度<span>(</span>可变长度数<span>)</span></span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height: 150%;color:black'>文本<span>&gt;</span></span></i></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height: 150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt;line-height:150%;color:black'>个字节的<span> ASCII </span>文本或<span>8</span>位二进制数</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 02</span><span style='font-size:12.0pt;line-height: 150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%;color:black'>版权声明</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个事件是用<span>ASCII</span>文本表示的版权通告，<span><br> </span>例如你可以这样写：<span>“© Wow! The coding rider!”</span></span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%;color:#333333'>若要使用该事件，其必须为第一个</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>track</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>的第一个事件。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 03</span><i><span style='font-size:12.0pt; line-height:150%;color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name="音序/Track_名称"></a><b><span style='font-size:12.0pt;line-height:150%; color:black'>音序<span> / Track </span>名称<span>&nbsp;</span></span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>音序或<span> track </span>的名称，同样由可变长度数与<span>ASCII</span>数据组成。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 04</span><span style='font-size:12.0pt;line-height: 150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%;color:black'>乐器名称<span>&nbsp;&nbsp;</span></span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个用来详细的记述（这个）<span> MIDI channel </span>在 （这个）<span>track </span>里使用的乐器。注意该事件并不会真正影响<span>Channel</span>中的音频流。如果希望改变当前<span>Channel</span>中的乐器（而非仅仅标注），请使用<span>Program Change</span>。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 05</span><span style='font-size:12.0pt;line-height: 150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%;color:black'>歌词</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>通常每个音节都有自己的歌词，<span>MIDI</span>中允许将<span>ASCII</span>歌词嵌入乐谱作为消息并加上时间戳，交由合成器解释。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 06</span><span style='font-size:12.0pt;line-height: 150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name=标记></a><b><span style='font-size:12.0pt;line-height:150%;color:black'>标记</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>通常用于格式<span>0</span>或格式<span>1</span>的第一个<span> track </span>。<span> <br> </span>标记有意义的点（如：<span>“</span>诗篇<span>1”</span>） </span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 07</span><i><span style='font-size:12.0pt; line-height:150%;color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> <i>&lt;</i></span><i><span style='font-size:12.0pt;line-height:150%;color:black'>数据<span>&gt;</span></span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%;color:black'>暗示</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>用来表示舞台上发生的事情。如：<span>“</span>幕布升起<span>”</span>、<span>“</span>退出，台左<span>”</span>等。 </span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=3 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 20 01</span><span style='font-size:12.0pt; line-height:150%;color:black'> <i>cc</i></span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%; color:black'>MIDI Channel </span></b><b><span style='font-size:12.0pt; line-height:150%;color:black'>前缀</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>关联紧跟的 所有<span>meta-events </span>或<span> sysex-events </span>的<span> MIDI channel</span>，直到出现下一个包含<span>Channel</span>信息的标准消息出现。</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>cc</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%; color:black'>MIDI channel 1-16<br> </span><span style='font-size:12.0pt;line-height:150%; color:black'>范围：</span><span style='font-size:10.0pt;line-height: 150%;color:black'>00-0F</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 2F 00</span><span style='font-size:12.0pt;line-height:150%; color:black'> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%; color:black'>Track </span></b><b><span style='font-size:12.0pt;line-height: 150%;color:black'>结束标记</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个事件是<b>必须</b>的，并且时间戳刻度应当在所有其他事件之后。<span><br> </span>它用于清除当前<span>Track</span>定义的长度，因为<span>MTrk Chunk</span>的长度定于并不总是可靠。其本质是用于标记当前<span> track </span>是循环还是连接另一个<span> track </span>。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 51 03</span><span style='font-size:12.0pt; line-height:150%;color:black'> <i>tt tt tt</i> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name=拍子></a><b><span style='font-size:12.0pt;line-height:150%;color:black'>拍子</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个标注<span>1/4</span>音符的速度，用微秒表示。这个意味着改变一个<span> delta-time </span>的单位长度。<span><a href="../../../WINDOWS/Desktop/Midi%20File%20Format/Chinese/midi_file_format.html#注意1"><span style='color:black;text-decoration:none'> (</span><span style='color:black;text-decoration:none'><span>注意1)</span></span></a> </span></span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%;color:#333333'>如果没有指出，缺省的速度为</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> 120</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>拍</span><span style='font-size:9.0pt; line-height:150%;color:#333333'>/</span><span style='font-size:9.0pt;line-height:150%;color:#333333'>分。这个相当于</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> tttttt = 500,000</span><span style='font-size:9.0pt; line-height:150%;color:#333333'>。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=4 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 54 05</span><span style='font-size:12.0pt; line-height:150%;color:black'> <i>hh mm ss fr ff</i> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name="SMTPE_偏移量"></a><b><span style='font-size:12.0pt;line-height: 150%;color:black'>SMTPE </span></b><b><span style='font-size: 12.0pt;line-height:150%;color:black'>偏移量<span>&nbsp;</span></span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>可选事件，描述<span> track </span>开始时的<span> SMTPE </span>时间。</span></p> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个事件必须发生在非零<span> delta-time</span>之前，且在第一个事件之前。</span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%; color:#333333'>&nbsp;</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>在格式</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'>1</span><span style='font-size:9.0pt;line-height:150%;color:#333333'>中，这个事件必须在第一个</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> track </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>中。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>hh mm ss fr</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>小时<span>/</span>分<span>/</span>秒<span>/</span>帧 用<span> SMTPE </span>格式。<span><br> </span>这个必须与消息 <span><a href="http://crystal.apana.org.au/~ghansper/midi_introduction/midi_system_common.html#mtc_qframe"><span style='color:black;text-decoration:none'>MIDI Time Code Quarter Frame</span></a> </span>一致。</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>ff</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%; color:black'>Fractional frame, in hundreth's of a frame </span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=6 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size: 10.0pt;line-height:150%;color:black'>FF 58 04</span><span style='font-size:12.0pt;line-height:150%;color:black'> <i>nn dd cc bb</i> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><a name=拍子记号></a><b><span style='font-size:12.0pt;line-height:150%;color:black'>拍子记号</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>拍子记号的形式：</span></p> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>nn</span></i><span style='font-size:12.0pt; line-height:150%;color:black'>/2^<i>dd</i> <br> </span><span style='font-size:12.0pt;line-height:150%; color:black'>如：<span> 6/8 </span>用<span> nn=6</span>，<span>dd=3 </span>表示。<span> </span></span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%;color:#333333'>这个参数</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> cc </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>是表示每个</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'> MIDI </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>时钟的节拍器的</span><span style='font-size:9.0pt; line-height:150%;color:#333333'> tick </span><span style='font-size:9.0pt;line-height:150%;color:#333333'>数目。</span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%;color:#333333'>通常</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>24 </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>个</span><span style='font-size:9.0pt; line-height:150%;color:#333333'> MIDI </span><span style='font-size:9.0pt;line-height:150%;color:#333333'>时钟为一个</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>1/4</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>音符。可是一些软件允许用户自己设置这个值。参数</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> bb </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>定义：</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'>24 MIDI </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>时钟（这个</span><span style='font-size:9.0pt; line-height:150%;color:#333333'>“</span><span style='font-size:9.0pt;line-height:150%;color:#333333'>一般</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>”</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>（表示）</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'>1/4</span><span style='font-size:9.0pt;line-height:150%;color:#333333'>音符）中</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> 1/32</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>音符的数目。</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>nn</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>拍子记号，分子<span>&nbsp; </span></span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>dd</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>拍子记号，分母表示为<span> 2 </span>的（<span>dd</span>次）冥。<span> <br> </span>例：一个分母<span> 4 </span>用<span> dd=2 </span>表示。</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>cc</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>每个<span> MIDI </span>时钟节拍器的<span> tick </span>数目。<span>&nbsp; </span></span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>bb</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%; color:black'>24</span><span style='font-size:12.0pt;line-height:150%; color:black'>个<span>MIDI</span>时钟中<span>1/32</span>音符的数目（<span>8</span>是标准的）。</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=4 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 59 02</span><span style='font-size:12.0pt; line-height:150%;color:black'> <i>sf mi</i> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%;color:black'>音调符号</span></b></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>音调符号，表示升调或降调值，大调或小调的标志。</span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%; color:#333333'>0 </span><span style='font-size:9.0pt;line-height:150%; color:#333333'>表示</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'> C </span><span style='font-size:9.0pt;line-height:150%;color:#333333'>调，负数表示</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>“</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>降调</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'>”</span><span style='font-size:9.0pt;line-height:150%;color:#333333'>，正数表示</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>“</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>升调</span><span style='font-size: 9.0pt;line-height:150%;color:#333333'>”</span><span style='font-size:9.0pt;line-height:150%;color:#333333'>。</span><span style='font-size:9.0pt;line-height:150%; color:#333333'> </span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>sf</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>升调或降调值<span><br> -7 = 7 </span>升调<span><br> 0 = C </span>调<span><br> +7 = 7 </span>降调</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>mi</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%; color:black'>0 = </span><span style='font-size:12.0pt;line-height:150%; color:black'>大调<span><br> 1 = </span>小调</span></p> </td> </tr> <tr> <td class="midi_meta_thead" rowspan=5 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='line-height:150%'><span style='font-size:10.0pt;line-height:150%; color:black'>FF 7F</span><span style='font-size:12.0pt;line-height:150%; color:black'> <i>&lt;len&gt;</i> <i>&lt;id&gt;</i> <i>&lt;data&gt;</i> </span></p> </td> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><b><span style='font-size:12.0pt;line-height:150%;color:black'>音序器描述<span> Meta-event</span></span></b><span style='font-size: 12.0pt;line-height:150%;color:black'> </span></p> </td> </tr> <tr> <td colspan=2 style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>这个在<span> MIDI </span>文件中等同于系统高级事件。</span></p> <p style='text-align:left;line-height:150%'><span style='font-size:9.0pt;line-height:150%; color:#333333'>&nbsp;</span><span style='font-size:9.0pt;line-height:150%; color:#333333'>在</span><span style='font-size:9.0pt; line-height:150%;color:#333333'> MIDI </span><span style='font-size:9.0pt;line-height:150%;color:#333333'>文件中用这个事件表示制造商音序器统一化的描述。</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height: 150%;color:black'>长度<span>&gt;</span></span></i><span style='font-size:12.0pt;line-height:150%; color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%;color:black'>长度<span> of <i>&lt;id&gt;</i>+<i>&lt;</i></span><i>数据<span>&gt;</span></i><span> (</span>可变长度数<span>)</span></span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;id&gt;</span></i><span style='font-size:12.0pt; line-height:150%;color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%; color:black'>1</span><span style='font-size:12.0pt;line-height:150%; color:black'>或<span>3</span>个字节表示制造厂商。<span><br> </span>这个值同样的作为 <span><a href="http://crystal.apana.org.au/~ghansper/midi_introduction/midi_system_exclusive.html"><span style='color:black;text-decoration:none'>MIDI System Exclusive messages</span></a> </span>用。</span></p> </td> </tr> <tr> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><i><span style='font-size:12.0pt;line-height:150%; color:black'>&lt;</span></i><i><span style='font-size:12.0pt;line-height: 150%;color:black'>数据<span> &gt;</span></span></i><span style='font-size:12.0pt;line-height:150%; color:black'> </span></p> </td> <td style='padding:1.45pt 1.45pt 1.45pt 1.45pt'> <p style='text-align:left;line-height:150%'><span style='font-size:12.0pt;line-height:150%; color:black'>8</span><span style='font-size:12.0pt;line-height:150%; color:black'>位二进制数</span></p> </td> </tr></table>
</div>

<h3><a class="js_toggle_title js_toggle_title_cont" name="midi_cont" id="midi_cont">附录三：控制消息类型表</a></h3>
<div class="js_toggle_body" id="toggleBody_cont">
    译自：<a href="/workspace/midi/Standard MIDI file format, updated.pdf" target="_blank">标准MIDI文件格式规范1.1</a>，或<a href="http://courses.cs.washington.edu/courses/cse467/05wi/labs/FinalProject/MidiProject/Standard%20MIDI%20file%20format,%20updated.pdf" target="_blank">点此进入原文链接</a><br>
    <br>
    <table class="midi_ins_table" border=1 cellspacing=0 cellpadding=0><tr style='height:9.0pt'><td width="100%" colspan=3 style='width:100.0%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><b><span style=''>系统通用消息</span></b><span style=''>（</span><span style='font-size:9.0pt'>System Common Message</span><span style=''>）</span></p></td></tr><tr style='height:4.5pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p  style='text-align:center'><span style=''>状态位（</span><span style='font-size:9.0pt'>D7-D0</span><span style=''>）</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p  style='text-align:center'><span style=''>数据位（</span><span style='font-size:9.0pt'>D7-D0</span><span style=''>）</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p  style='text-align:center'><span style=''>信息含义</span></p></td></tr><tr style='height:9.0pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110000</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>0iiiiiii</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><b><span style=''>专用系统消息</span></b></p></td></tr><tr style='height:8.25pt'><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:8.25pt'><p  style='text-align:center'><span style='font-size:9.0pt'>0ddddddd</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:8.25pt'><p class= ><span style=''>见前文中关于“</span><span ><u><span  style='color:#0070C0'><a class="js_slide_link" href="#midi_sysex"><u><span style='font-size:9.0pt;color:#0070C0'>SysexMessage</span></u></a></span></u></span><span style=''>”的描述。</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110001</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><span  style='font-size:9.0pt'>MIDI</span><span style=''>时间代码转换信息</span><span style='font-size:9.0pt'><br></span><span style=''>这个信息是把</span><span style='font-size:9.0pt'>SMPTE</span><span style=''>在同步的工作中的状态转化为</span><span  style='font-size:9.0pt'>MIDI</span><span style=''>时间代码（</span><span style='font-size:9.0pt'>MIDI Time Code</span><span style=''>）的格式</span><span  style='font-size:9.0pt'>:</span><span style=''>小时（</span><span style='font-size:9.0pt'>Hour</span><span style=''>）</span><span  style='font-size:9.0pt'>:</span><span style=''>分钟（</span><span style='font-size:9.0pt'>Minute</span><span style=''>）</span><span  style='font-size:9.0pt'>:</span><span style=''>秒（</span><span style='font-size:9.0pt'>Second</span><span style=''>）</span><span  style='font-size:9.0pt'>:</span><span style=''>帧（</span><span style='font-size:9.0pt'>Frame</span><span style=''>）</span><span  style='font-size:9.0pt'><br></span><span style=''>有关</span><span style='font-size:9.0pt'>MTC Quarter Frame</span><span style=''>的说明，可以点击</span><u><span  style='font-size:9.0pt;color:#0070C0'><a href="http://www.somascape.org/midi/tech/spec.html#syscommsgs"><u><span style='color:#0070C0'><span >这里查看</span></span></u></a></span></u><span style=''>。</span></p></td></tr><tr style='height:4.5pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110010</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p  style='text-align:center'><span style='font-size:9.0pt'>0lllllll</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p class= ><b><span style=''>乐曲位置指针信息</span></b></p></td></tr><tr style='height:4.5pt'><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p  style='text-align:center'><span style='font-size:9.0pt'>0mmmmmmm</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p class= ><span style=''>这个信息是一个内部十四位寄存器存储了从乐曲开始计数时的</span><span style='font-size:9.0pt'>MIDI</span><span style=''>的节拍数（在</span><span  style='font-size:9.0pt'>MIDI</span><span style=''>协议中，一节拍相当于六个</span><span style='font-size:9.0pt'>MIDI</span><span style=''>时钟单位）</span><span  style='font-size:9.0pt'><br></span><span style=''>其中（</span><span style='font-size:9.0pt'>lllllll</span><span style=''>）为计数器的低</span><span  style='font-size:9.0pt'>7</span><span style=''>位，（</span><span style='font-size:9.0pt'>mmmmmmm</span><span style=''>）为计数器的高</span><span  style='font-size:9.0pt'>7</span><span style=''>位。</span></p></td></tr><tr style='height:13.0pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110011</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>0sssssss</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><b><span style=''>乐曲选择信息</span></b></p></td></tr><tr style='height:13.0pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><span style=''>该信息指定了以什么序列或哪首乐曲将被演奏。</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110100</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><span style=''>未定义</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110101</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><span style=''>未定义</span></p></td></tr><tr style='height:11.25pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:11.25pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110110</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:11.25pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:11.25pt'><p class= ><b><span style=''>音调调整要求信息</span></b></p></td></tr><tr style='height:32.5pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:32.5pt'><p class= ><span style=''>当模拟合成器收到这个信息时，都要调整它们的震荡器的震荡频率，这个信息是为老式的电子合成器而保存的</span><span style='font-size:9.0pt'>.</span><span style=''>因为在老式的合成器的使用时常常发生音调不准，需要此信息对其进行震荡器的微调</span><span style='font-size:9.0pt'>.</span><span style=''>而今天的合成器已经不需要它了。</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11110111</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><span style=''>结束系统专用信息</span><span style='font-size:9.0pt'><br></span><span style=''>见前文中关于“</span><span ><u><span  style='color:#0070C0'><a class="js_slide_link" href="#midi_sysex"><u><span style='font-size:9.0pt;color:#0070C0'>SysexMessage</span></u></a></span></u></span><span style=''>”的描述。</span></p></td></tr><tr style='height:9.0pt'><td width="100%" colspan=3 style='width:100.0%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><b><span style=''>系统实时消息</span></b><span style=''>（</span><span style='font-size:9.0pt'>System Real-Time Message</span><span style=''>）</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>状态位（</span><span style='font-size:9.0pt'>D7-D0</span><span style=''>）</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>数据位（</span><span style='font-size:9.0pt'>D7-D0</span><span style=''>）</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>信息含义</span></p></td></tr><tr style='height:15.6pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:15.6pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111000</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:15.6pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:15.6pt'><p class= ><b><span style=''>时钟信息</span></b></p></td></tr><tr style='height:15.6pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:15.6pt'><p class= ><span style=''>当有同步要求时，该信息每四分之一音符发送</span><span style='font-size:9.0pt'>24</span><span style=''>次。</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111001</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><span style=''>未定义</span></p></td></tr><tr style='height:13.0pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111010</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><b><span style=''>开始信息</span></b></p></td></tr><tr style='height:13.0pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><span style=''>开始现有的序列演奏（通常时钟信息紧跟在本信息后面连用）。</span></p></td></tr><tr style='height:13.0pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111011</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><b><span style=''>继续信息</span></b></p></td></tr><tr style='height:13.0pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><span style=''>本信息是命令音序在被停止的地方继续演奏。</span></p></td></tr><tr style='height:13.0pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111100</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><b><span style=''>停止信息</span></b></p></td></tr><tr style='height:13.0pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:13.0pt'><p class= ><span style=''>停止</span><span style='font-size:9.0pt'>/</span><span style=''>暂停当前音序，可被恢复。</span></p></td></tr><tr style='height:9.0pt'><td width="17%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111101</span></p></td><td width="16%" style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p class= ><span style=''>未定义</span></p></td></tr><tr style='height:16.85pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:16.85pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111110</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:16.85pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:16.85pt'><p class= ><b><span style=''>联系激活信息</span></b></p></td></tr><tr style='height:32.5pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:32.5pt'><p class= ><span style=''>这条信息的使用是可以选择的。如果使用了该信息，接收器将在每</span><span style='font-size:9.0pt'>300</span><span style=''>（最大值）毫秒内准备接收下一个联系激活信息，否则它会自动认为连接已经终止。如果接收器认为连接已经终止后，它将停止所有发音并恢复到正常的工作状态（非联系激活工作状态）。</span></p></td></tr><tr style='height:19.5pt'><td width="17%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p  style='text-align:center'><span style='font-size:9.0pt'>11111111</span></p></td><td width="16%" rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p  style='text-align:center'><span style=''>/</span></p></td><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p class= ><span style=''>复位信息</span></p></td></tr><tr style='height:19.5pt'><td width="66%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p class= ><span style=''>复位信息将系统内所有接收器都恢复到电源打开的初始状态。在一些特殊状态下，它可以不复位到电源打开状态下。</span></p></td></tr></table>
</div>

<h3><a class="js_toggle_title js_toggle_title_chan" name="midi_chan" id="midi_chan">附录四：通道消息类型表</a></h3>
<div class="js_toggle_body" id="toggleBody_chan">
    译自：<a href="/workspace/midi/Standard MIDI file format, updated.pdf" target="_blank">标准MIDI文件格式规范1.1</a>，或<a href="http://courses.cs.washington.edu/courses/cse467/05wi/labs/FinalProject/MidiProject/Standard%20MIDI%20file%20format,%20updated.pdf" target="_blank">点此进入原文链接</a><br>
    <br>
    <table class="midi_ins_table" border=1 cellspacing=0 cellpadding=0 width="100%"style='width:100.0%'><tr style='height:9.0pt'><td width="100%" colspan=4 style='width:100.0%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p   style='text-align:center'><b><span >通道声音信息</span></b><span >（</span><span style='font-size:9.0pt'>Channal Voice Message</span><span >）</span></p></td></tr><tr style='height:9.0pt'><td style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p   style='text-align:center'><span >状态位（</span><span style='font-size:9.0pt'>D7-D0</span><span >）</span></p></td><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p   style='text-align:center'><span >数据位（</span><span style='font-size:9.0pt'>D7-D0</span><span >）</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:9.0pt'><p   style='text-align:center'><span >信息含义</span></p></td></tr><tr style='height:.75pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1000cccc</span></p></td><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>Onnnnnnn</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p  align=left style='text-align:left'><b><span >音符关闭</span></b></p></td></tr><tr style='height:36.0pt'><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:36.0pt'><p   style='text-align:center'><span style='font-size:9.0pt'>Ovvvvvvv</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:36.0pt'><p ><span >这个信息是在一个音结束时发出的，如键盘的某个键被放开</span><span style='font-size:9.0pt'><br></span><span >其中（</span><span style='font-size:9.0pt'>nnnnnnn</span><span >）是音符音高的编号代码，（</span><span  style='font-size:9.0pt'>vvvvvvv</span><span >）是力度的编号代码。</span></p></td></tr><tr style='height:.75pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1001cccc</span></p></td><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>Onnnnnnn</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p ><b><span >音符打开</span></b></p></td></tr><tr style='height:27.0pt'><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:27.0pt'><p   style='text-align:center'><span style='font-size:9.0pt'>Ovvvvvvv</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:27.0pt'><p ><span >这个信息是在一个音开始时发出的，如键盘的某个键被按下，其中（</span><span style='font-size:9.0pt'>nnnnnn</span><span >）是音符音高的编号代码，</span><span  style='font-size:9.0pt'>C</span><span >大调音高为“</span><span style='font-size:9.0pt'>01100000”</span><span >；（</span><span  style='font-size:9.0pt'>vvvvvvv</span><span >）是力度的编号代码。</span></p></td></tr><tr style='height:.75pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1010cccc</span></p></td><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>Onnnnnnn</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p ><b><span >和弦（触后）键压力变化</span></b></p></td></tr><tr style='height:27.0pt'><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:27.0pt'><p   style='text-align:center'><span style='font-size:9.0pt'>Ovvvvvvv</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:27.0pt'><p ><span >这个信息是在先前被按下的琴键的压力变化时发出的，其中（</span><span style='font-size:9.0pt'>nnnnnnn</span><span >）是音符的编号代码，（</span><span  style='font-size:9.0pt'>vvvvvvv</span><span >）是变化后新力度的编号代码。</span></p></td></tr><tr style='height:.75pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1011cccc</span></p></td><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0ccccccc</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p ><b><span >控制器变化</span></b></p></td></tr><tr style='height:54.0pt'><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:54.0pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0vvvvvvv</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:54.0pt'><p ><span >这个信息是在某个控制器的控制值发生变化时发出的，例如</span><span style='font-size:9.0pt'>:</span><span >踏板等变化</span><span  style='font-size:9.0pt'><br></span><span >有些控制器号码被作为保留字段（参见本页下方<b>通道模式消息</b>栏的说明）。</span><span style='font-size:9.0pt'><br></span><span >其中（</span><span style='font-size:9.0pt'>ccccccc</span><span >）是控制器的号码，（</span><span  style='font-size:9.0pt'>vvvvvvv</span><span >）是力度的编号代码</span></p></td></tr><tr style='height:19.5pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1100cccc</span></p></td><td width="16%" colspan=2 rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0ppppppp</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p ><b><span >程序变化（乐器切换）</span></b></p></td></tr><tr style='height:19.5pt'><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:19.5pt'><p ><span >这个信息是在音色号码被改变时发出的，其中（</span><span style='font-size:9.0pt'>ppppppp</span><span >）是新的音色号码。</span><span  style='font-size:9.0pt'>GM</span><span >标准音色号可在</span><span style='font-size:9.0pt'><a class="js_slide_link" href="#midi_ins"><span><span >附录一</span></span></a></span><span >中查询。</span></p></td></tr><tr style='height:18.25pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:18.25pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1101nnnn</span></p></td><td width="16%" colspan=2 rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:18.25pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0ccccccc</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:18.25pt'><p ><b><span >通道（触后）压力变化</span></b></p></td></tr><tr style='height:32.5pt'><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:32.5pt'><p ><span >这个信息是在通道的压力发生变化时发出的，当有一些对力度敏感的键盘不支持上文中提到的和弦触后（</span><span style='font-size:9.0pt'>Polyphonic Aftertouch</span><span >）时，可以通过发送这个信息来改变当前所有被按下的键中力度最大的单个键的力度信息，其中（</span><span style='font-size:9.0pt'>ccccccc</span><span >）是控制代码。</span></p></td></tr><tr style='height:.75pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1110nnnn</span></p></td><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0lllllll</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p ><b><span >（触后）音调轮变化</span></b></p></td></tr><tr style='height:54.0pt'><td width="16%" colspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:54.0pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0mmmmmmm</span></p></td><td width="67%" style='width:65%;padding:.75pt .75pt .75pt .75pt;height:54.0pt'><p ><span >这个信息的发送说明音调轮有变化</span><span style='font-size:9.0pt'><br></span><span >音调轮是由一个</span><span style='font-size:9.0pt'>14</span><span >位二进制数衡量描述的，其中值，即音调轮没有变化时的值为“</span><span style='font-size:9.0pt;color:#red;'>00000000 01000000</span><span >”，其变化的灵敏度与传递介质有关</span><span  style='font-size:9.0pt'><br></span><span >其中（</span><span style='font-size:9.0pt'>lllllll</span><span >）是</span><span  style='font-size:9.0pt'>14</span><span >位数中的低</span><span style='font-size:9.0pt'>7</span><span >位，（</span><span  style='font-size:9.0pt'>mmmmmmm</span><span >）是其高</span><span style='font-size:9.0pt'>7</span><span >位</span></p></td></tr><tr style='height:4.5pt'><td width="100%" colspan=4 style='width:100.0%;padding:.75pt .75pt .75pt .75pt;height:4.5pt'><p   style='text-align:center'><b><span >通道模式信息</span></b><span >（</span><span style='font-size:9.0pt'>Channel Mode Message</span><span >）</span></p></td></tr><tr style='height:.75pt'><td rowspan=2 style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>1011nnnn</span></p></td><td style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0ccccccc</span></p></td><td width="69%" colspan=2 style='width:65%;padding:.75pt .75pt .75pt .75pt;height:.75pt'><p ><b><span >通道模式信息</span></b></p></td></tr><tr style='height:180.0pt'><td style='width:17.5%;padding:.75pt .75pt .75pt .75pt;height:180.0pt'><p   style='text-align:center'><span style='font-size:9.0pt'>0vvvvvvv</span></p></td><td width="69%" colspan=2 style='width:65%;padding:.75pt .75pt .75pt .75pt;height:180.0pt'><p ><span >通道模式消息是“控制器消息”中的特殊情况，特定的控制器类型被作为保留字段识别为该类型信息。</span><span style='font-size:9.0pt'><br></span></p><br><p><b><span >通道模式</span></b><br>&nbsp;&nbsp;<span style='font-size:9.0pt'>Mono Mode:</span>当前通道同一时刻只能演奏一个音符；<br>&nbsp;&nbsp;<span style='font-size:9.0pt'>Poly Mode（默认）:</span>当 Mono Mode Off 时的通道状态；<br>&nbsp;&nbsp;<span style='font-size:9.0pt'>Omni Mode On（默认）:</span>输出设备将尝试响应所有通道信息；<br>&nbsp;&nbsp;<span style='font-size:9.0pt'>Omni Mode Off: </span>设备仅响应自身所定义的<b>保准通道</b>（如果存在）中的通道信息。</p><p><span  style='font-size:9.0pt'><br></span><b><span >本地控制（</span></b><b><span style='font-size:9.0pt'>Local Control</span></b><b><span >）</span></b><span >：</span><span  style='font-size:9.0pt'><br></span><span >在本地控制被关闭时，所有某指定通道的</span><span style='font-size:9.0pt'>MIDI</span><span >设备都只对</span><span  style='font-size:9.0pt'>MIDI</span><span >协议的数据信息有反应，而对演奏数据等信息予以忽略</span><span style='font-size:9.0pt'>.</span><span >本地控制打开时，设备恢复正常控制器的功能。</span><span style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=122 v=0:</span><span >本地控制关闭</span><span style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=122 v=127:</span><span >本地控制打开</span><span style='font-size:9.0pt'><br><br></span></p><p ><b><span >所有音符关闭：</span></b><span style='font-size:9.0pt'><br></span><span >当一个所有音符关闭信息被接收到时，所有设备的震荡器都被关闭</span><span style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=123 v=0:</span><span >所有音符关闭</span><span style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=124 v=0:omni</span><span >方式关闭</span><span style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=125 v=0:omni</span><span >方式打开</span><span style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=126 v=M:</span><span >单模式（</span><span style='font-size:9.0pt'>Mono Mode</span><span >）打开（即复模式，</span><span  style='font-size:9.0pt'>PolyMode</span><span >关闭），其中</span><span style='font-size:9.0pt'>M</span><span >用于指定通道（</span><span  style='font-size:9.0pt'>Channel</span><span >）号（1-16，此时代表</span><span style='font-size:9.0pt'>omni</span><span >关闭）或</span><span  style='font-size:9.0pt'>0</span><span >（</span><span style='font-size:9.0pt'>omni</span><span >打开）。</span><span  style='font-size:9.0pt'><br>&nbsp;&nbsp;&nbsp;&nbsp;c=127 v=0:</span><span >复模式打开（单模式关闭）</span><span style='font-size:9.0pt'><br></span><span >（注意</span><span style='font-size:9.0pt'>:</span><span >以上四个信息同时出现时将导致所有音符关闭）</span></p></td></tr></table>
</div>

<h3><a class="js_toggle_title js_toggle_title_ctrl" name="midi_ctrl" id="midi_ctrl">附录五：控制器类型表</a></h3>
<div class="js_toggle_body" id="toggleBody_ctrl">
    译自：<a href="/workspace/midi/Standard MIDI file format, updated.pdf" target="_blank">标准MIDI文件格式规范1.1</a>，或<a href="http://courses.cs.washington.edu/courses/cse467/05wi/labs/FinalProject/MidiProject/Standard%20MIDI%20file%20format,%20updated.pdf" target="_blank">点此进入原文链接</a><br>
    <br>
    <table class="midi_ins_table" border=1 cellspacing=3 cellpadding=0 width="100%"style='width:100.0%;'><tr> <td width="128%" colspan=2 style='width:128.0%;'> <p style='text-align:center'><b><span style='font-size:12.0pt;'>MIDI</span></b><b><span style='font-size:12.0pt;'>控制器一览表</span></b></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>控制器编号</span></p> </td> <td width="109%" style='width:109.0%;'> <p style='text-align:center'><span>参数意义</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>0</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>音色库选择<span>MSB</span></span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>1</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>颤音深度（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>2</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>呼吸（吹管）控制器（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>3</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>4</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>踏板控制器（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>5</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>连滑音速度（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>6</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>高位元组数据输入（<span>Data Entry MSB</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>7</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>主音量（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>8</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>平衡控制（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>9</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>10</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>声像调整（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>11</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>力度控制器（粗调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>12-15</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>16-19</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>一般控制器</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>20-31</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>32</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>插口选择</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>33</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>颤音速度（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>34</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>呼吸（吹管）控制器（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>35</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>36</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>踏板控制器（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>37</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>连滑音速度（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>38</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>低位元组数据输入（<span>Data Entry LSB</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>39</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>主音量（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>40</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>平衡控制（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>41</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>42</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>声像调整（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>43</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>力度控制器（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>44</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>效果<span>FX</span>控制<span>1</span>（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>45</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>效果<span>FX</span>控制<span>2</span>（微调）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>46-63</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>64</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>保持音踏板<span>1</span>（延音踏板）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>65</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>滑音（在音头前加入上或下滑音做装饰音）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>66</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>持续音</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>67</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>弱音踏板</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>68</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>连滑音踏板控制器</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>69</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>保持音踏板<span>2</span></span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>70</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>变调</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>71</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>音色</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>72</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>放音时值</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>73</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>起音时值</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>74</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>亮音</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>75-79</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>声音控制</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>80-83</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>一般控制器（<span>#5-#8</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>84</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>连滑音控制</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>85-90</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>91</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>混响效果深度</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>92</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>（未定义的效果深度）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>93</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>合唱效果深度</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>94</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>（未定义的效果深度）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>95</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>移调器深度</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>96</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>数据累增</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>97</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>数据递减</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>98</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>未登记的低元组数值（<span>NRPN LSB</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>99</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>未登记的高元组数值（<span>NRPN MSB</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>100</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>已登记的低元组数值（<span>RPN LSB</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>101</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>已登记的高元组数值（<span>RPN MSB</span>）</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>102-119</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>N/A</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>120</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>关闭所有声音</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>121</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>关闭所有控制器</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>122</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>本地键盘开关</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>123</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>关闭所有音符</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>124</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>Omni</span><span>模式关闭</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>125</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>Omni</span><span>模式开启</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>126</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>单音模式</span></p> </td></tr><tr> <td width="19%" style='width:19.0%;'> <p style='text-align:center'><span>127</span></p> </td> <td width="109%" style='width:109.0%;'> <p><span>复音模式</span></p> </td></tr></table>
</div>

<h3><a class="js_toggle_title js_toggle_title_tone" name="midi_tone" id="midi_tone">附录六：Note Key 与音阶的对应关系</a></h3>
<div class="js_toggle_body" id="toggleBody_tone">
    译自：<a href="/workspace/midi/Standard MIDI file format, updated.pdf" target="_blank">标准MIDI文件格式规范1.1</a>，或<a href="http://courses.cs.washington.edu/courses/cse467/05wi/labs/FinalProject/MidiProject/Standard%20MIDI%20file%20format,%20updated.pdf" target="_blank">点此进入原文链接</a><br>
    <br>
    <table class="midi_ins_table" border=1 style="text-align:center;"><tr><td style='width:50.65pt;height:17.7pt'><p><b><span>音阶</span></b><b><span> </span></b><b><span>#</span></b></p></td><td colspan=12><p><b><span>No<span>t</span>e<span> </span>Keys</span></b></p></td></tr><tr style='height:18.7pt'><td width=84 style='width:50.65pt;'><p><span>&nbsp;</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>C</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>C#</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>D</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>D#</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>E</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>F</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>F</span><span>#</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>G</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>G</span><span>#</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>A</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>A#</span></p></td><td style='width:23.55pt;'><p><span>B</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>-</span><span>1</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>0</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>1</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>2</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>3</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>4</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>5</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>6</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>7</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>8</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>9</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>10</span></p></td><td style='width:23.55pt;'><p><span>11</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>0</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>12</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>13</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>14</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>15</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>16</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>17</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>18</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>19</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>20</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>21</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>22</span></p></td><td style='width:23.55pt;'><p><span>23</span></p></td></tr><tr style='height:18.7pt'><td width=84 style='width:50.65pt;'><p><span>1</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>24</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>25</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>26</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>27</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>28</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>29</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>30</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>31</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>32</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>33</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>34</span></p></td><td style='width:23.55pt;'><p><span>35</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>2</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>36</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>37</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>38</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>39</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>40</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>41</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>42</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>43</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>44</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>45</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>46</span></p></td><td style='width:23.55pt;'><p><span>47</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>3</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>48</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>49</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>50</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>51</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>52</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>53</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>54</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>55</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>56</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>57</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>58</span></p></td><td style='width:23.55pt;'><p><span>59</span></p></td></tr><tr style='height:18.7pt'><td width=84 style='width:50.65pt;'><p><span>4</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>60</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>61</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>62</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>63</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>64</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>65</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>66</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>67</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>68</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>69</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>70</span></p></td><td style='width:23.55pt;'><p><span>71</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>5</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>72</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>73</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>74</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>75</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>76</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>77</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>78</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>79</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>80</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>81</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>82</span></p></td><td style='width:23.55pt;'><p><span>83</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>6</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>84</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>85</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>86</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>87</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>88</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>89</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>90</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>91</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>92</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>93</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>94</span></p></td><td style='width:23.55pt;'><p><span>95</span></p></td></tr><tr style='height:18.7pt'><td width=84 style='width:50.65pt;'><p><span>7</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>96</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>97</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>98</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>99</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>100</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>101</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>102</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>103</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>104</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>105</span></p></td><td style='width:22.5pt;height:18.7pt'><p><span>106</span></p></td><td style='width:23.55pt;'><p><span>107</span></p></td></tr><tr style='height:18.85pt'><td width=84 style='width:50.65pt;'><p><span>8</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>108</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>109</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>110</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>111</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>112</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>113</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>114</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>115</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>116</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>117</span></p></td><td style='width:22.5pt;height:18.85pt'><p><span>118</span></p></td><td style='width:23.55pt;'><p><span>119</span></p></td></tr><tr style='height:21.0pt'><td width=84 style='width:50.65pt;'><p><span>9</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>120</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>121</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>122</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>123</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>124</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>125</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>126</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>127</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>&nbsp;</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>&nbsp;</span></p></td><td style='width:22.5pt;height:21.0pt'><p><span>&nbsp;</span></p></td><td style='width:23.55pt;'><p><span>&nbsp;</span></p></td></tr></table>
</div>
参考列表太长，就算了吧，所有引用已在原文中注明出处，若存在版权问题烦请与博主联系。谢谢。
<script type="text/javascript" src="Midi.js"></script>
<script type="text/javascript" src="Sequence.js"></script>
</body>
</html>